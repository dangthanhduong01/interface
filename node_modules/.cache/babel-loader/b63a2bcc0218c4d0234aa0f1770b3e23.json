{"ast":null,"code":"import { SwapRouter02__factory } from '../types/other/factories/SwapRouter02__factory';\nimport { log, SWAP_ROUTER_02_ADDRESSES } from '../util';\nexport class SwapRouterProvider {\n  constructor(multicall2Provider, chainId) {\n    this.multicall2Provider = multicall2Provider;\n    this.chainId = chainId;\n  }\n  async getApprovalType(tokenInAmount, tokenOutAmount) {\n    var _a, _b;\n    const functionParams = [[tokenInAmount.currency.wrapped.address, tokenInAmount.quotient.toString()], [tokenOutAmount.currency.wrapped.address, tokenOutAmount.quotient.toString()]];\n    const tx = await this.multicall2Provider.callSameFunctionOnContractWithMultipleParams({\n      address: SWAP_ROUTER_02_ADDRESSES(this.chainId),\n      contractInterface: SwapRouter02__factory.createInterface(),\n      functionName: 'getApprovalType',\n      functionParams\n    });\n    if (!((_a = tx.results[0]) === null || _a === void 0 ? void 0 : _a.success) || !((_b = tx.results[1]) === null || _b === void 0 ? void 0 : _b.success)) {\n      log.info({\n        results: tx.results\n      }, 'Failed to get approval type from swap router for token in or token out');\n      throw new Error('Failed to get approval type from swap router for token in or token out');\n    }\n    const {\n      result: approvalTokenIn\n    } = tx.results[0];\n    const {\n      result: approvalTokenOut\n    } = tx.results[1];\n    return {\n      approvalTokenIn: approvalTokenIn[0],\n      approvalTokenOut: approvalTokenOut[0]\n    };\n  }\n}","map":{"version":3,"sources":["../../../src/providers/swap-router-provider.ts"],"names":[],"mappings":"AAGA,SAAS,qBAAqB,QAAQ,gDAAgD;AACtF,SAAkB,GAAG,EAAE,wBAAwB,QAAQ,SAAS;AA6BhE,OAAM,MAAO,kBAAkB,CAAA;EAC7B,WAAA,CACY,kBAAsC,EACtC,OAAgB,EAAA;IADhB,IAAA,CAAA,kBAAkB,GAAlB,kBAAkB;IAClB,IAAA,CAAA,OAAO,GAAP,OAAO;EAChB;EAEI,MAAM,eAAe,CAC1B,aAAuC,EACvC,cAAwC,EAAA;;IAExC,MAAM,cAAc,GAAuB,CACzC,CACE,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,EACtC,aAAa,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAClC,EACD,CACE,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,EACvC,cAAc,CAAC,QAAQ,CAAC,QAAQ,EAAE,CACnC,CACF;IAED,MAAM,EAAE,GACN,MAAM,IAAI,CAAC,kBAAkB,CAAC,4CAA4C,CAGxE;MACA,OAAO,EAAE,wBAAwB,CAAC,IAAI,CAAC,OAAO,CAAC;MAC/C,iBAAiB,EAAE,qBAAqB,CAAC,eAAe,EAAE;MAC1D,YAAY,EAAE,iBAAiB;MAC/B;KACD,CAAC;IAEJ,IAAI,EAAC,CAAA,EAAA,GAAA,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,OAAO,CAAA,IAAI,EAAC,CAAA,EAAA,GAAA,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,OAAO,CAAA,EAAE;MACtD,GAAG,CAAC,IAAI,CACN;QAAE,OAAO,EAAE,EAAE,CAAC;MAAO,CAAE,EACvB,wEAAwE,CACzE;MACD,MAAM,IAAI,KAAK,CACb,wEAAwE,CACzE;IACF;IAED,MAAM;MAAE,MAAM,EAAE;IAAe,CAAE,GAAG,EAAE,CAAC,OAAQ,CAAC,CAAC,CAAC;IAClD,MAAM;MAAE,MAAM,EAAE;IAAgB,CAAE,GAAG,EAAE,CAAC,OAAQ,CAAC,CAAC,CAAC;IAEnD,OAAO;MACL,eAAe,EAAE,eAAe,CAAC,CAAC,CAAC;MACnC,gBAAgB,EAAE,gBAAgB,CAAC,CAAC;KACrC;EACH;AACD","sourceRoot":"","sourcesContent":["import { SwapRouter02__factory } from '../types/other/factories/SwapRouter02__factory';\nimport { log, SWAP_ROUTER_02_ADDRESSES } from '../util';\nexport class SwapRouterProvider {\n    constructor(multicall2Provider, chainId) {\n        this.multicall2Provider = multicall2Provider;\n        this.chainId = chainId;\n    }\n    async getApprovalType(tokenInAmount, tokenOutAmount) {\n        var _a, _b;\n        const functionParams = [\n            [\n                tokenInAmount.currency.wrapped.address,\n                tokenInAmount.quotient.toString(),\n            ],\n            [\n                tokenOutAmount.currency.wrapped.address,\n                tokenOutAmount.quotient.toString(),\n            ],\n        ];\n        const tx = await this.multicall2Provider.callSameFunctionOnContractWithMultipleParams({\n            address: SWAP_ROUTER_02_ADDRESSES(this.chainId),\n            contractInterface: SwapRouter02__factory.createInterface(),\n            functionName: 'getApprovalType',\n            functionParams,\n        });\n        if (!((_a = tx.results[0]) === null || _a === void 0 ? void 0 : _a.success) || !((_b = tx.results[1]) === null || _b === void 0 ? void 0 : _b.success)) {\n            log.info({ results: tx.results }, 'Failed to get approval type from swap router for token in or token out');\n            throw new Error('Failed to get approval type from swap router for token in or token out');\n        }\n        const { result: approvalTokenIn } = tx.results[0];\n        const { result: approvalTokenOut } = tx.results[1];\n        return {\n            approvalTokenIn: approvalTokenIn[0],\n            approvalTokenOut: approvalTokenOut[0],\n        };\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dhcC1yb3V0ZXItcHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcHJvdmlkZXJzL3N3YXAtcm91dGVyLXByb3ZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLGdEQUFnRCxDQUFDO0FBQ3ZGLE9BQU8sRUFBVyxHQUFHLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxTQUFTLENBQUM7QUE2QmpFLE1BQU0sT0FBTyxrQkFBa0I7SUFDN0IsWUFDWSxrQkFBc0MsRUFDdEMsT0FBZ0I7UUFEaEIsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFvQjtRQUN0QyxZQUFPLEdBQVAsT0FBTyxDQUFTO0lBQ3pCLENBQUM7SUFFRyxLQUFLLENBQUMsZUFBZSxDQUMxQixhQUF1QyxFQUN2QyxjQUF3Qzs7UUFFeEMsTUFBTSxjQUFjLEdBQXVCO1lBQ3pDO2dCQUNFLGFBQWEsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLE9BQU87Z0JBQ3RDLGFBQWEsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFO2FBQ2xDO1lBQ0Q7Z0JBQ0UsY0FBYyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTztnQkFDdkMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUU7YUFDbkM7U0FDRixDQUFDO1FBRUYsTUFBTSxFQUFFLEdBQ04sTUFBTSxJQUFJLENBQUMsa0JBQWtCLENBQUMsNENBQTRDLENBR3hFO1lBQ0EsT0FBTyxFQUFFLHdCQUF3QixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDL0MsaUJBQWlCLEVBQUUscUJBQXFCLENBQUMsZUFBZSxFQUFFO1lBQzFELFlBQVksRUFBRSxpQkFBaUI7WUFDL0IsY0FBYztTQUNmLENBQUMsQ0FBQztRQUVMLElBQUksQ0FBQyxDQUFBLE1BQUEsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsMENBQUUsT0FBTyxDQUFBLElBQUksQ0FBQyxDQUFBLE1BQUEsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsMENBQUUsT0FBTyxDQUFBLEVBQUU7WUFDdEQsR0FBRyxDQUFDLElBQUksQ0FDTixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQ3ZCLHdFQUF3RSxDQUN6RSxDQUFDO1lBQ0YsTUFBTSxJQUFJLEtBQUssQ0FDYix3RUFBd0UsQ0FDekUsQ0FBQztTQUNIO1FBRUQsTUFBTSxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25ELE1BQU0sRUFBRSxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXBELE9BQU87WUFDTCxlQUFlLEVBQUUsZUFBZSxDQUFDLENBQUMsQ0FBQztZQUNuQyxnQkFBZ0IsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7U0FDdEMsQ0FBQztJQUNKLENBQUM7Q0FDRiJ9"]},"metadata":{},"sourceType":"module"}