{"ast":null,"code":"import _styled from \"styled-components\";\nvar _jsxFileName = \"/home/diep/freelance/interface/src/components/NavBar/SearchBarDropdown.tsx\",\n  _s = $RefreshSig$();\nimport { Trans } from \"@lingui/react\";\nimport { useTrace } from '@uniswap/analytics';\nimport { InterfaceSectionName, NavBarSearchTypes } from '@uniswap/analytics-events';\nimport { useWeb3React } from '@web3-react/core';\nimport Badge from 'components/Badge';\nimport { SupportedChainId } from 'constants/chains';\nimport { useNftGraphqlEnabled } from 'featureFlags/flags/nftlGraphql';\nimport { HistoryDuration, SafetyLevel } from 'graphql/data/__generated__/types-and-hooks';\nimport { useTrendingCollections } from 'graphql/data/nft/TrendingCollections';\nimport useTrendingTokens from 'graphql/data/TrendingTokens';\nimport { useIsNftPage } from 'hooks/useIsNftPage';\nimport { Box } from 'nft/components/Box';\nimport { Column, Row } from 'nft/components/Flex';\nimport { subheadSmall } from 'nft/css/common.css';\nimport { fetchTrendingCollections } from 'nft/queries';\nimport { formatEthPrice } from 'nft/utils/currency';\nimport { useEffect, useMemo, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { useLocation } from 'react-router-dom';\nimport { ThemedText } from 'theme';\nimport BnbLogoURI from \"../../assets/svg/bnb-logo.svg\";\nimport { ClockIcon, TrendingArrow } from '../../nft/components/icons';\nimport { useRecentlySearchedAssets } from './RecentlySearchedAssets';\nimport * as styles from './SearchBar.css';\nimport { CollectionRow, SkeletonRow, TokenRow } from './SuggestionRow';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction isCollection(suggestion) {\n  return suggestion.decimals === undefined;\n}\nconst SearchBarDropdownSection = _ref => {\n  let {\n    toggleOpen,\n    suggestions,\n    header,\n    headerIcon = undefined,\n    hoveredIndex,\n    startingIndex,\n    setHoveredIndex,\n    isLoading,\n    eventProperties\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(Column, {\n    gap: \"12\",\n    \"data-cy\": \"searchbar-dropdown\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      paddingX: \"16\",\n      paddingY: \"4\",\n      gap: \"8\",\n      color: \"gray300\",\n      className: subheadSmall,\n      style: {\n        lineHeight: '20px'\n      },\n      children: [headerIcon ? headerIcon : null, /*#__PURE__*/_jsxDEV(Box, {\n        children: header\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Column, {\n      gap: \"12\",\n      children: suggestions.map((suggestion, index) => isLoading || !suggestion ? /*#__PURE__*/_jsxDEV(SkeletonRow, {}, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this) : isCollection(suggestion) ? /*#__PURE__*/_jsxDEV(CollectionRow, {\n        collection: suggestion,\n        isHovered: hoveredIndex === index + startingIndex,\n        setHoveredIndex: setHoveredIndex,\n        toggleOpen: toggleOpen,\n        index: index + startingIndex,\n        eventProperties: {\n          position: index + startingIndex,\n          selected_search_result_name: suggestion.name,\n          selected_search_result_address: suggestion.address,\n          ...eventProperties\n        }\n      }, suggestion.address, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(TokenRow, {\n        token: suggestion,\n        isHovered: hoveredIndex === index + startingIndex,\n        setHoveredIndex: setHoveredIndex,\n        toggleOpen: toggleOpen,\n        index: index + startingIndex,\n        eventProperties: {\n          position: index + startingIndex,\n          selected_search_result_name: suggestion.name,\n          selected_search_result_address: suggestion.address,\n          ...eventProperties\n        }\n      }, suggestion.address, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_c = SearchBarDropdownSection;\nfunction isKnownToken(token) {\n  var _token$project, _token$project2;\n  return ((_token$project = token.project) === null || _token$project === void 0 ? void 0 : _token$project.safetyLevel) == SafetyLevel.Verified || ((_token$project2 = token.project) === null || _token$project2 === void 0 ? void 0 : _token$project2.safetyLevel) == SafetyLevel.MediumWarning;\n}\nconst BNBLogo = _styled.img.withConfig({\n  displayName: \"SearchBarDropdown__BNBLogo\",\n  componentId: \"sc-wlyks0-0\"\n})([\"height:20px;width:20px;margin-right:8px;\"]);\nconst BNBComingSoonBadge = _styled(Badge).withConfig({\n  displayName: \"SearchBarDropdown__BNBComingSoonBadge\",\n  componentId: \"sc-wlyks0-1\"\n})([\"align-items:center;background-color:\", \";color:\", \";display:flex;flex-direction:row;justify-content:flex-start;opacity:1;padding:8px;margin:16px 16px 4px;width:calc(100% - 32px);\"], _ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return theme.backgroundModule;\n}, _ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return theme.textSecondary;\n});\nexport const SearchBarDropdown = _ref4 => {\n  _s();\n  var _trendingCollections$, _trendingTokens$lengt;\n  let {\n    toggleOpen,\n    tokens,\n    collections,\n    queryText,\n    hasInput,\n    isLoading\n  } = _ref4;\n  const [hoveredIndex, setHoveredIndex] = useState(0);\n  const {\n    data: searchHistory\n  } = useRecentlySearchedAssets();\n  const shortenedHistory = useMemo(() => {\n    var _searchHistory$slice;\n    return (_searchHistory$slice = searchHistory === null || searchHistory === void 0 ? void 0 : searchHistory.slice(0, 2)) !== null && _searchHistory$slice !== void 0 ? _searchHistory$slice : [...Array(2)];\n  }, [searchHistory]);\n  const {\n    pathname\n  } = useLocation();\n  const {\n    chainId\n  } = useWeb3React();\n  const isNFTPage = useIsNftPage();\n  const isNftGraphqlEnabled = useNftGraphqlEnabled();\n  const isTokenPage = pathname.includes('/tokens');\n  const [resultsState, setResultsState] = useState();\n  const {\n    data: trendingCollectionResults,\n    isLoading: trendingCollectionsAreLoading\n  } = useQuery(['trendingCollections', 'eth', 'twenty_four_hours'], () => fetchTrendingCollections({\n    volumeType: 'eth',\n    timePeriod: 'ONE_DAY',\n    size: 3\n  }));\n  const {\n    data: gqlData,\n    loading\n  } = useTrendingCollections(3, HistoryDuration.Day);\n  const trendingCollections = useMemo(() => {\n    const gatedTrendingCollections = isNftGraphqlEnabled ? gqlData : trendingCollectionResults;\n    return gatedTrendingCollections && (!isNftGraphqlEnabled || !loading) ? gatedTrendingCollections.map(collection => {\n      var _collection$floor, _collection$floor2;\n      return {\n        ...collection,\n        collectionAddress: collection.address,\n        floorPrice: isNftGraphqlEnabled ? collection.floor : formatEthPrice((_collection$floor = collection.floor) === null || _collection$floor === void 0 ? void 0 : _collection$floor.toString()),\n        stats: {\n          total_supply: collection.totalSupply,\n          one_day_change: collection.floorChange,\n          floor_price: isNftGraphqlEnabled ? collection.floor : formatEthPrice((_collection$floor2 = collection.floor) === null || _collection$floor2 === void 0 ? void 0 : _collection$floor2.toString())\n        }\n      };\n    }).slice(0, isNFTPage ? 3 : 2) : [...Array(isNFTPage ? 3 : 2)];\n  }, [gqlData, isNFTPage, isNftGraphqlEnabled, loading, trendingCollectionResults]);\n  const {\n    data: trendingTokenData\n  } = useTrendingTokens(useWeb3React().chainId);\n  const trendingTokensLength = isTokenPage ? 3 : 2;\n  const trendingTokens = useMemo(() => {\n    var _trendingTokenData$sl;\n    return (_trendingTokenData$sl = trendingTokenData === null || trendingTokenData === void 0 ? void 0 : trendingTokenData.slice(0, trendingTokensLength)) !== null && _trendingTokenData$sl !== void 0 ? _trendingTokenData$sl : [...Array(trendingTokensLength)];\n  }, [trendingTokenData, trendingTokensLength]);\n  const totalSuggestions = hasInput ? tokens.length + collections.length : Math.min(shortenedHistory.length, 2) + (isNFTPage || !isTokenPage ? (_trendingCollections$ = trendingCollections === null || trendingCollections === void 0 ? void 0 : trendingCollections.length) !== null && _trendingCollections$ !== void 0 ? _trendingCollections$ : 0 : 0) + (isTokenPage || !isNFTPage ? (_trendingTokens$lengt = trendingTokens === null || trendingTokens === void 0 ? void 0 : trendingTokens.length) !== null && _trendingTokens$lengt !== void 0 ? _trendingTokens$lengt : 0 : 0);\n\n  // Navigate search results via arrow keys\n  useEffect(() => {\n    const keyDownHandler = event => {\n      if (event.key === 'ArrowUp') {\n        event.preventDefault();\n        if (!hoveredIndex) {\n          setHoveredIndex(totalSuggestions - 1);\n        } else {\n          setHoveredIndex(hoveredIndex - 1);\n        }\n      } else if (event.key === 'ArrowDown') {\n        event.preventDefault();\n        if (hoveredIndex && hoveredIndex === totalSuggestions - 1) {\n          setHoveredIndex(0);\n        } else {\n          setHoveredIndex((hoveredIndex !== null && hoveredIndex !== void 0 ? hoveredIndex : -1) + 1);\n        }\n      }\n    };\n    document.addEventListener('keydown', keyDownHandler);\n    return () => {\n      document.removeEventListener('keydown', keyDownHandler);\n    };\n  }, [toggleOpen, hoveredIndex, totalSuggestions]);\n  const hasVerifiedCollection = collections.some(collection => collection.isVerified);\n  const hasKnownToken = tokens.some(isKnownToken);\n  const showCollectionsFirst = isNFTPage && (hasVerifiedCollection || !hasKnownToken) || !isNFTPage && !hasKnownToken && hasVerifiedCollection;\n  const trace = JSON.stringify(useTrace({\n    section: InterfaceSectionName.NAVBAR_SEARCH\n  }));\n  useEffect(() => {\n    const eventProperties = {\n      total_suggestions: totalSuggestions,\n      query_text: queryText,\n      ...JSON.parse(trace)\n    };\n    if (!isLoading) {\n      const tokenSearchResults = tokens.length > 0 ? /*#__PURE__*/_jsxDEV(SearchBarDropdownSection, {\n        hoveredIndex: hoveredIndex,\n        startingIndex: showCollectionsFirst ? collections.length : 0,\n        setHoveredIndex: setHoveredIndex,\n        toggleOpen: toggleOpen,\n        suggestions: tokens,\n        eventProperties: {\n          suggestion_type: NavBarSearchTypes.TOKEN_SUGGESTION,\n          ...eventProperties\n        },\n        header: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"Tokens\"\n        }, void 0, false, void 0, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Box, {\n        className: styles.notFoundContainer,\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"No tokens found.\"\n        }, void 0, false, void 0, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this);\n      const collectionSearchResults = collections.length > 0 ? /*#__PURE__*/_jsxDEV(SearchBarDropdownSection, {\n        hoveredIndex: hoveredIndex,\n        startingIndex: showCollectionsFirst ? 0 : tokens.length,\n        setHoveredIndex: setHoveredIndex,\n        toggleOpen: toggleOpen,\n        suggestions: collections,\n        eventProperties: {\n          suggestion_type: NavBarSearchTypes.COLLECTION_SUGGESTION,\n          ...eventProperties\n        },\n        header: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"NFT Collections\"\n        }, void 0, false, void 0, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Box, {\n        className: styles.notFoundContainer,\n        children: \"No NFT collections found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }, this);\n      const currentState = () => {\n        var _trendingTokens$lengt2;\n        return hasInput ?\n        /*#__PURE__*/\n        // Empty or Up to 8 combined tokens and nfts\n        _jsxDEV(Column, {\n          gap: \"20\",\n          children: showCollectionsFirst ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [collectionSearchResults, tokenSearchResults]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [tokenSearchResults, collectionSearchResults]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this) :\n        /*#__PURE__*/\n        // Recent Searches, Trending Tokens, Trending Collections\n        _jsxDEV(Column, {\n          gap: \"20\",\n          children: [shortenedHistory.length > 0 && /*#__PURE__*/_jsxDEV(SearchBarDropdownSection, {\n            hoveredIndex: hoveredIndex,\n            startingIndex: 0,\n            setHoveredIndex: setHoveredIndex,\n            toggleOpen: toggleOpen,\n            suggestions: shortenedHistory,\n            eventProperties: {\n              suggestion_type: NavBarSearchTypes.RECENT_SEARCH,\n              ...eventProperties\n            },\n            header: /*#__PURE__*/_jsxDEV(Trans, {\n              id: \"Recent searches\"\n            }, void 0, false, void 0, this),\n            headerIcon: /*#__PURE__*/_jsxDEV(ClockIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 29\n            }, this),\n            isLoading: !searchHistory\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this), !isNFTPage && /*#__PURE__*/_jsxDEV(SearchBarDropdownSection, {\n            hoveredIndex: hoveredIndex,\n            startingIndex: shortenedHistory.length,\n            setHoveredIndex: setHoveredIndex,\n            toggleOpen: toggleOpen,\n            suggestions: trendingTokens,\n            eventProperties: {\n              suggestion_type: NavBarSearchTypes.TOKEN_TRENDING,\n              ...eventProperties\n            },\n            header: /*#__PURE__*/_jsxDEV(Trans, {\n              id: \"Popular tokens\"\n            }, void 0, false, void 0, this),\n            headerIcon: /*#__PURE__*/_jsxDEV(TrendingArrow, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 29\n            }, this),\n            isLoading: !trendingTokenData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this), !isTokenPage && /*#__PURE__*/_jsxDEV(SearchBarDropdownSection, {\n            hoveredIndex: hoveredIndex,\n            startingIndex: shortenedHistory.length + (isNFTPage ? 0 : (_trendingTokens$lengt2 = trendingTokens === null || trendingTokens === void 0 ? void 0 : trendingTokens.length) !== null && _trendingTokens$lengt2 !== void 0 ? _trendingTokens$lengt2 : 0),\n            setHoveredIndex: setHoveredIndex,\n            toggleOpen: toggleOpen,\n            suggestions: trendingCollections,\n            eventProperties: {\n              suggestion_type: NavBarSearchTypes.COLLECTION_TRENDING,\n              ...eventProperties\n            },\n            header: /*#__PURE__*/_jsxDEV(Trans, {\n              id: \"Popular NFT collections\"\n            }, void 0, false, void 0, this),\n            headerIcon: /*#__PURE__*/_jsxDEV(TrendingArrow, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 29\n            }, this),\n            isLoading: trendingCollectionsAreLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this);\n      };\n      setResultsState(currentState);\n    }\n  }, [isLoading, tokens, collections, trendingCollections, trendingCollectionsAreLoading, trendingTokens, trendingTokenData, hoveredIndex, toggleOpen, shortenedHistory, hasInput, isNFTPage, isTokenPage, showCollectionsFirst, queryText, totalSuggestions, trace, searchHistory]);\n  const showBNBComingSoonBadge = chainId === SupportedChainId.BNB && !isLoading;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: styles.searchBarDropdownNft,\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      opacity: isLoading ? '0.3' : '1',\n      transition: \"125\",\n      children: [resultsState, showBNBComingSoonBadge && /*#__PURE__*/_jsxDEV(BNBComingSoonBadge, {\n        children: [/*#__PURE__*/_jsxDEV(BNBLogo, {\n          src: BnbLogoURI\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ThemedText.BodySmall, {\n          color: \"textSecondary\",\n          fontSize: \"14px\",\n          fontWeight: \"400\",\n          lineHeight: \"20px\",\n          children: /*#__PURE__*/_jsxDEV(Trans, {\n            id: \"Coming soon: search and explore tokens on BNB Chain\"\n          }, void 0, false, void 0, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 366,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchBarDropdown, \"NFI+rkDhrltLGsq6v44JChpheDw=\", false, function () {\n  return [useRecentlySearchedAssets, useLocation, useWeb3React, useIsNftPage, useNftGraphqlEnabled, useQuery, useTrendingCollections, useTrendingTokens, useWeb3React, useTrace];\n});\n_c2 = SearchBarDropdown;\nvar _c, _c2;\n$RefreshReg$(_c, \"SearchBarDropdownSection\");\n$RefreshReg$(_c2, \"SearchBarDropdown\");","map":{"version":3,"names":["useTrace","InterfaceSectionName","NavBarSearchTypes","useWeb3React","Badge","SupportedChainId","useNftGraphqlEnabled","HistoryDuration","SafetyLevel","useTrendingCollections","useTrendingTokens","useIsNftPage","Box","Column","Row","subheadSmall","fetchTrendingCollections","formatEthPrice","useEffect","useMemo","useState","useQuery","useLocation","ThemedText","ClockIcon","TrendingArrow","useRecentlySearchedAssets","styles","CollectionRow","SkeletonRow","TokenRow","isCollection","suggestion","decimals","undefined","SearchBarDropdownSection","toggleOpen","suggestions","header","headerIcon","hoveredIndex","startingIndex","setHoveredIndex","isLoading","eventProperties","lineHeight","map","index","position","selected_search_result_name","name","selected_search_result_address","address","isKnownToken","token","project","safetyLevel","Verified","MediumWarning","BNBLogo","styled","img","BNBComingSoonBadge","theme","backgroundModule","textSecondary","SearchBarDropdown","tokens","collections","queryText","hasInput","data","searchHistory","shortenedHistory","slice","Array","pathname","chainId","isNFTPage","isNftGraphqlEnabled","isTokenPage","includes","resultsState","setResultsState","trendingCollectionResults","trendingCollectionsAreLoading","volumeType","timePeriod","size","gqlData","loading","Day","trendingCollections","gatedTrendingCollections","collection","collectionAddress","floorPrice","floor","toString","stats","total_supply","totalSupply","one_day_change","floorChange","floor_price","trendingTokenData","trendingTokensLength","trendingTokens","totalSuggestions","length","Math","min","keyDownHandler","event","key","preventDefault","document","addEventListener","removeEventListener","hasVerifiedCollection","some","isVerified","hasKnownToken","showCollectionsFirst","trace","JSON","stringify","section","NAVBAR_SEARCH","total_suggestions","query_text","parse","tokenSearchResults","suggestion_type","TOKEN_SUGGESTION","notFoundContainer","collectionSearchResults","COLLECTION_SUGGESTION","currentState","RECENT_SEARCH","TOKEN_TRENDING","COLLECTION_TRENDING","showBNBComingSoonBadge","BNB","searchBarDropdownNft","BnbLogoURI"],"sources":["/home/diep/freelance/interface/src/components/NavBar/SearchBarDropdown.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\nimport { useTrace } from '@uniswap/analytics'\nimport { InterfaceSectionName, NavBarSearchTypes } from '@uniswap/analytics-events'\nimport { useWeb3React } from '@web3-react/core'\nimport Badge from 'components/Badge'\nimport { SupportedChainId } from 'constants/chains'\nimport { useNftGraphqlEnabled } from 'featureFlags/flags/nftlGraphql'\nimport { HistoryDuration, SafetyLevel } from 'graphql/data/__generated__/types-and-hooks'\nimport { useTrendingCollections } from 'graphql/data/nft/TrendingCollections'\nimport { SearchToken } from 'graphql/data/SearchTokens'\nimport useTrendingTokens from 'graphql/data/TrendingTokens'\nimport { useIsNftPage } from 'hooks/useIsNftPage'\nimport { Box } from 'nft/components/Box'\nimport { Column, Row } from 'nft/components/Flex'\nimport { subheadSmall } from 'nft/css/common.css'\nimport { fetchTrendingCollections } from 'nft/queries'\nimport { GenieCollection, TimePeriod, TrendingCollection } from 'nft/types'\nimport { formatEthPrice } from 'nft/utils/currency'\nimport { ReactNode, useEffect, useMemo, useState } from 'react'\nimport { useQuery } from 'react-query'\nimport { useLocation } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport BnbLogoURI from '../../assets/svg/bnb-logo.svg'\nimport { ClockIcon, TrendingArrow } from '../../nft/components/icons'\nimport { useRecentlySearchedAssets } from './RecentlySearchedAssets'\nimport * as styles from './SearchBar.css'\nimport { CollectionRow, SkeletonRow, TokenRow } from './SuggestionRow'\n\nfunction isCollection(suggestion: GenieCollection | SearchToken | TrendingCollection) {\n  return (suggestion as SearchToken).decimals === undefined\n}\n\ninterface SearchBarDropdownSectionProps {\n  toggleOpen: () => void\n  suggestions: (GenieCollection | SearchToken)[]\n  header: JSX.Element\n  headerIcon?: JSX.Element\n  hoveredIndex: number | undefined\n  startingIndex: number\n  setHoveredIndex: (index: number | undefined) => void\n  isLoading?: boolean\n  eventProperties: Record<string, unknown>\n}\n\nconst SearchBarDropdownSection = ({\n  toggleOpen,\n  suggestions,\n  header,\n  headerIcon = undefined,\n  hoveredIndex,\n  startingIndex,\n  setHoveredIndex,\n  isLoading,\n  eventProperties,\n}: SearchBarDropdownSectionProps) => {\n  return (\n    <Column gap=\"12\" data-cy=\"searchbar-dropdown\">\n      <Row paddingX=\"16\" paddingY=\"4\" gap=\"8\" color=\"gray300\" className={subheadSmall} style={{ lineHeight: '20px' }}>\n        {headerIcon ? headerIcon : null}\n        <Box>{header}</Box>\n      </Row>\n      <Column gap=\"12\">\n        {suggestions.map((suggestion, index) =>\n          isLoading || !suggestion ? (\n            <SkeletonRow key={index} />\n          ) : isCollection(suggestion) ? (\n            <CollectionRow\n              key={suggestion.address}\n              collection={suggestion as GenieCollection}\n              isHovered={hoveredIndex === index + startingIndex}\n              setHoveredIndex={setHoveredIndex}\n              toggleOpen={toggleOpen}\n              index={index + startingIndex}\n              eventProperties={{\n                position: index + startingIndex,\n                selected_search_result_name: suggestion.name,\n                selected_search_result_address: suggestion.address,\n                ...eventProperties,\n              }}\n            />\n          ) : (\n            <TokenRow\n              key={suggestion.address}\n              token={suggestion as SearchToken}\n              isHovered={hoveredIndex === index + startingIndex}\n              setHoveredIndex={setHoveredIndex}\n              toggleOpen={toggleOpen}\n              index={index + startingIndex}\n              eventProperties={{\n                position: index + startingIndex,\n                selected_search_result_name: suggestion.name,\n                selected_search_result_address: suggestion.address,\n                ...eventProperties,\n              }}\n            />\n          )\n        )}\n      </Column>\n    </Column>\n  )\n}\n\nfunction isKnownToken(token: SearchToken) {\n  return token.project?.safetyLevel == SafetyLevel.Verified || token.project?.safetyLevel == SafetyLevel.MediumWarning\n}\n\nconst BNBLogo = styled.img`\n  height: 20px;\n  width: 20px;\n  margin-right: 8px;\n`\nconst BNBComingSoonBadge = styled(Badge)`\n  align-items: center;\n  background-color: ${({ theme }) => theme.backgroundModule};\n  color: ${({ theme }) => theme.textSecondary};\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  opacity: 1;\n  padding: 8px;\n  margin: 16px 16px 4px;\n  width: calc(100% - 32px);\n`\n\ninterface SearchBarDropdownProps {\n  toggleOpen: () => void\n  tokens: SearchToken[]\n  collections: GenieCollection[]\n  queryText: string\n  hasInput: boolean\n  isLoading: boolean\n}\n\nexport const SearchBarDropdown = ({\n  toggleOpen,\n  tokens,\n  collections,\n  queryText,\n  hasInput,\n  isLoading,\n}: SearchBarDropdownProps) => {\n  const [hoveredIndex, setHoveredIndex] = useState<number | undefined>(0)\n\n  const { data: searchHistory } = useRecentlySearchedAssets()\n  const shortenedHistory = useMemo(() => searchHistory?.slice(0, 2) ?? [...Array<SearchToken>(2)], [searchHistory])\n\n  const { pathname } = useLocation()\n  const { chainId } = useWeb3React()\n  const isNFTPage = useIsNftPage()\n  const isNftGraphqlEnabled = useNftGraphqlEnabled()\n  const isTokenPage = pathname.includes('/tokens')\n  const [resultsState, setResultsState] = useState<ReactNode>()\n\n  const { data: trendingCollectionResults, isLoading: trendingCollectionsAreLoading } = useQuery(\n    ['trendingCollections', 'eth', 'twenty_four_hours'],\n    () => fetchTrendingCollections({ volumeType: 'eth', timePeriod: 'ONE_DAY' as TimePeriod, size: 3 })\n  )\n\n  const { data: gqlData, loading } = useTrendingCollections(3, HistoryDuration.Day)\n\n  const trendingCollections = useMemo(() => {\n    const gatedTrendingCollections = isNftGraphqlEnabled ? gqlData : trendingCollectionResults\n    return gatedTrendingCollections && (!isNftGraphqlEnabled || !loading)\n      ? gatedTrendingCollections\n          .map((collection) => ({\n            ...collection,\n            collectionAddress: collection.address,\n            floorPrice: isNftGraphqlEnabled ? collection.floor : formatEthPrice(collection.floor?.toString()),\n            stats: {\n              total_supply: collection.totalSupply,\n              one_day_change: collection.floorChange,\n              floor_price: isNftGraphqlEnabled ? collection.floor : formatEthPrice(collection.floor?.toString()),\n            },\n          }))\n          .slice(0, isNFTPage ? 3 : 2)\n      : [...Array<GenieCollection>(isNFTPage ? 3 : 2)]\n  }, [gqlData, isNFTPage, isNftGraphqlEnabled, loading, trendingCollectionResults])\n\n  const { data: trendingTokenData } = useTrendingTokens(useWeb3React().chainId)\n\n  const trendingTokensLength = isTokenPage ? 3 : 2\n  const trendingTokens = useMemo(\n    () => trendingTokenData?.slice(0, trendingTokensLength) ?? [...Array<SearchToken>(trendingTokensLength)],\n    [trendingTokenData, trendingTokensLength]\n  )\n\n  const totalSuggestions = hasInput\n    ? tokens.length + collections.length\n    : Math.min(shortenedHistory.length, 2) +\n      (isNFTPage || !isTokenPage ? trendingCollections?.length ?? 0 : 0) +\n      (isTokenPage || !isNFTPage ? trendingTokens?.length ?? 0 : 0)\n\n  // Navigate search results via arrow keys\n  useEffect(() => {\n    const keyDownHandler = (event: KeyboardEvent) => {\n      if (event.key === 'ArrowUp') {\n        event.preventDefault()\n        if (!hoveredIndex) {\n          setHoveredIndex(totalSuggestions - 1)\n        } else {\n          setHoveredIndex(hoveredIndex - 1)\n        }\n      } else if (event.key === 'ArrowDown') {\n        event.preventDefault()\n        if (hoveredIndex && hoveredIndex === totalSuggestions - 1) {\n          setHoveredIndex(0)\n        } else {\n          setHoveredIndex((hoveredIndex ?? -1) + 1)\n        }\n      }\n    }\n\n    document.addEventListener('keydown', keyDownHandler)\n\n    return () => {\n      document.removeEventListener('keydown', keyDownHandler)\n    }\n  }, [toggleOpen, hoveredIndex, totalSuggestions])\n\n  const hasVerifiedCollection = collections.some((collection) => collection.isVerified)\n  const hasKnownToken = tokens.some(isKnownToken)\n  const showCollectionsFirst =\n    (isNFTPage && (hasVerifiedCollection || !hasKnownToken)) || (!isNFTPage && !hasKnownToken && hasVerifiedCollection)\n\n  const trace = JSON.stringify(useTrace({ section: InterfaceSectionName.NAVBAR_SEARCH }))\n\n  useEffect(() => {\n    const eventProperties = { total_suggestions: totalSuggestions, query_text: queryText, ...JSON.parse(trace) }\n    if (!isLoading) {\n      const tokenSearchResults =\n        tokens.length > 0 ? (\n          <SearchBarDropdownSection\n            hoveredIndex={hoveredIndex}\n            startingIndex={showCollectionsFirst ? collections.length : 0}\n            setHoveredIndex={setHoveredIndex}\n            toggleOpen={toggleOpen}\n            suggestions={tokens}\n            eventProperties={{\n              suggestion_type: NavBarSearchTypes.TOKEN_SUGGESTION,\n              ...eventProperties,\n            }}\n            header={<Trans>Tokens</Trans>}\n          />\n        ) : (\n          <Box className={styles.notFoundContainer}>\n            <Trans>No tokens found.</Trans>\n          </Box>\n        )\n\n      const collectionSearchResults =\n        collections.length > 0 ? (\n          <SearchBarDropdownSection\n            hoveredIndex={hoveredIndex}\n            startingIndex={showCollectionsFirst ? 0 : tokens.length}\n            setHoveredIndex={setHoveredIndex}\n            toggleOpen={toggleOpen}\n            suggestions={collections}\n            eventProperties={{\n              suggestion_type: NavBarSearchTypes.COLLECTION_SUGGESTION,\n              ...eventProperties,\n            }}\n            header={<Trans>NFT Collections</Trans>}\n          />\n        ) : (\n          <Box className={styles.notFoundContainer}>No NFT collections found.</Box>\n        )\n\n      const currentState = () =>\n        hasInput ? (\n          // Empty or Up to 8 combined tokens and nfts\n          <Column gap=\"20\">\n            {showCollectionsFirst ? (\n              <>\n                {collectionSearchResults}\n                {tokenSearchResults}\n              </>\n            ) : (\n              <>\n                {tokenSearchResults}\n                {collectionSearchResults}\n              </>\n            )}\n          </Column>\n        ) : (\n          // Recent Searches, Trending Tokens, Trending Collections\n          <Column gap=\"20\">\n            {shortenedHistory.length > 0 && (\n              <SearchBarDropdownSection\n                hoveredIndex={hoveredIndex}\n                startingIndex={0}\n                setHoveredIndex={setHoveredIndex}\n                toggleOpen={toggleOpen}\n                suggestions={shortenedHistory}\n                eventProperties={{\n                  suggestion_type: NavBarSearchTypes.RECENT_SEARCH,\n                  ...eventProperties,\n                }}\n                header={<Trans>Recent searches</Trans>}\n                headerIcon={<ClockIcon />}\n                isLoading={!searchHistory}\n              />\n            )}\n            {!isNFTPage && (\n              <SearchBarDropdownSection\n                hoveredIndex={hoveredIndex}\n                startingIndex={shortenedHistory.length}\n                setHoveredIndex={setHoveredIndex}\n                toggleOpen={toggleOpen}\n                suggestions={trendingTokens}\n                eventProperties={{\n                  suggestion_type: NavBarSearchTypes.TOKEN_TRENDING,\n                  ...eventProperties,\n                }}\n                header={<Trans>Popular tokens</Trans>}\n                headerIcon={<TrendingArrow />}\n                isLoading={!trendingTokenData}\n              />\n            )}\n            {!isTokenPage && (\n              <SearchBarDropdownSection\n                hoveredIndex={hoveredIndex}\n                startingIndex={shortenedHistory.length + (isNFTPage ? 0 : trendingTokens?.length ?? 0)}\n                setHoveredIndex={setHoveredIndex}\n                toggleOpen={toggleOpen}\n                suggestions={trendingCollections as unknown as GenieCollection[]}\n                eventProperties={{\n                  suggestion_type: NavBarSearchTypes.COLLECTION_TRENDING,\n                  ...eventProperties,\n                }}\n                header={<Trans>Popular NFT collections</Trans>}\n                headerIcon={<TrendingArrow />}\n                isLoading={trendingCollectionsAreLoading}\n              />\n            )}\n          </Column>\n        )\n\n      setResultsState(currentState)\n    }\n  }, [\n    isLoading,\n    tokens,\n    collections,\n    trendingCollections,\n    trendingCollectionsAreLoading,\n    trendingTokens,\n    trendingTokenData,\n    hoveredIndex,\n    toggleOpen,\n    shortenedHistory,\n    hasInput,\n    isNFTPage,\n    isTokenPage,\n    showCollectionsFirst,\n    queryText,\n    totalSuggestions,\n    trace,\n    searchHistory,\n  ])\n\n  const showBNBComingSoonBadge = chainId === SupportedChainId.BNB && !isLoading\n\n  return (\n    <Box className={styles.searchBarDropdownNft}>\n      <Box opacity={isLoading ? '0.3' : '1'} transition=\"125\">\n        {resultsState}\n        {showBNBComingSoonBadge && (\n          <BNBComingSoonBadge>\n            <BNBLogo src={BnbLogoURI} />\n            <ThemedText.BodySmall color=\"textSecondary\" fontSize=\"14px\" fontWeight=\"400\" lineHeight=\"20px\">\n              <Trans>Coming soon: search and explore tokens on BNB Chain</Trans>\n            </ThemedText.BodySmall>\n          </BNBComingSoonBadge>\n        )}\n      </Box>\n    </Box>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}