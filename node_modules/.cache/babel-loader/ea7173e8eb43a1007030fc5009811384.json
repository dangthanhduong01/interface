{"ast":null,"code":"import _styled from \"styled-components\";\nvar _jsxFileName = \"/home/diep/freelance/interface/src/nft/components/profile/list/MarketplaceRow.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { i18n } from \"@lingui/core\";\nimport Column from 'components/Column';\nimport Row from 'components/Row';\nimport { MouseoverTooltip } from 'components/Tooltip';\nimport { RowsCollpsedIcon, RowsExpandedIcon } from 'nft/components/icons';\nimport { getMarketplaceFee, getRoyalty, useHandleGlobalPriceToggle, useSyncPriceWithGlobalMethod } from 'nft/components/profile/list/utils';\nimport { useSellAsset } from 'nft/hooks';\nimport { formatEth, formatUsdPrice } from 'nft/utils/currency';\nimport { fetchPrice } from 'nft/utils/fetchPrice';\nimport { useCallback, useEffect, useMemo, useReducer, useState } from 'react';\nimport { BREAKPOINTS, ThemedText } from 'theme';\nimport { PriceTextInput } from './PriceTextInput';\nimport { RoyaltyTooltip } from './RoyaltyTooltip';\nimport { RemoveIconWrap, SetPriceMethod } from './shared';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LastPriceInfo = _styled(Column).withConfig({\n  displayName: \"MarketplaceRow__LastPriceInfo\",\n  componentId: \"sc-10w00a-0\"\n})([\"text-align:left;display:none;flex:1;@media screen and (min-width:\", \"px){display:flex;}\"], BREAKPOINTS.lg);\nconst FloorPriceInfo = _styled(Column).withConfig({\n  displayName: \"MarketplaceRow__FloorPriceInfo\",\n  componentId: \"sc-10w00a-1\"\n})([\"text-align:left;display:none;flex:1;@media screen and (min-width:\", \"px){display:flex;}\"], BREAKPOINTS.md);\nconst RemoveMarketplaceWrap = _styled(RemoveIconWrap).withConfig({\n  displayName: \"MarketplaceRow__RemoveMarketplaceWrap\",\n  componentId: \"sc-10w00a-2\"\n})([\"top:8px;left:16px;z-index:3;\"]);\nconst MarketIconsWrapper = _styled(Row).withConfig({\n  displayName: \"MarketplaceRow__MarketIconsWrapper\",\n  componentId: \"sc-10w00a-3\"\n})([\"position:relative;margin-right:12px;width:44px;justify-content:flex-end;@media screen and (max-width:\", \"px){display:none;}\"], BREAKPOINTS.sm);\nconst MarketIconWrapper = _styled(Column).withConfig({\n  displayName: \"MarketplaceRow__MarketIconWrapper\",\n  componentId: \"sc-10w00a-4\"\n})([\"position:relative;cursor:pointer;\"]);\nconst MarketIcon = _styled.img.withConfig({\n  displayName: \"MarketplaceRow__MarketIcon\",\n  componentId: \"sc-10w00a-5\"\n})([\"width:20px;height:20px;border-radius:4px;object-fit:cover;z-index:\", \";margin-left:\", \";outline:1px solid \", \";\"], _ref => {\n  let {\n    index\n  } = _ref;\n  return 2 - index;\n}, _ref2 => {\n  let {\n    index\n  } = _ref2;\n  return `${index === 0 ? 0 : -8}px`;\n}, _ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return theme.backgroundInteractive;\n});\nconst ExpandMarketIconWrapper = _styled.div.withConfig({\n  displayName: \"MarketplaceRow__ExpandMarketIconWrapper\",\n  componentId: \"sc-10w00a-6\"\n})([\"cursor:pointer;margin-left:4px;height:28px;@media screen and (max-width:\", \"px){display:none;}\"], BREAKPOINTS.sm);\nconst FeeColumnWrapper = _styled(Column).withConfig({\n  displayName: \"MarketplaceRow__FeeColumnWrapper\",\n  componentId: \"sc-10w00a-7\"\n})([\"flex:1;align-items:flex-end;display:none;@media screen and (min-width:\", \"px){display:flex;}\"], BREAKPOINTS.md);\nconst FeeWrapper = _styled.div.withConfig({\n  displayName: \"MarketplaceRow__FeeWrapper\",\n  componentId: \"sc-10w00a-8\"\n})([\"width:min-content;white-space:nowrap;\"]);\nconst ReturnColumn = _styled(Column).withConfig({\n  displayName: \"MarketplaceRow__ReturnColumn\",\n  componentId: \"sc-10w00a-9\"\n})([\"flex:1.5;display:none;@media screen and (min-width:\", \"px){display:flex;}\"], BREAKPOINTS.md);\nexport const MarketplaceRow = _ref4 => {\n  _s();\n  let {\n    globalPriceMethod,\n    globalPrice,\n    setGlobalPrice,\n    selectedMarkets,\n    removeMarket = undefined,\n    asset,\n    expandMarketplaceRows,\n    toggleExpandMarketplaceRows,\n    rowHovered\n  } = _ref4;\n  const setAssetListPrice = useSellAsset(state => state.setAssetListPrice);\n  const removeAssetMarketplace = useSellAsset(state => state.removeAssetMarketplace);\n  const [marketIconHovered, toggleMarketIconHovered] = useReducer(s => !s, false);\n  const [marketRowHovered, toggleMarketRowHovered] = useReducer(s => !s, false);\n  const [listPrice, setListPrice] = useState(() => {\n    var _asset$newListings, _asset$newListings$fi;\n    return (_asset$newListings = asset.newListings) === null || _asset$newListings === void 0 ? void 0 : (_asset$newListings$fi = _asset$newListings.find(listing => expandMarketplaceRows ? listing.marketplace.name === (selectedMarkets === null || selectedMarkets === void 0 ? void 0 : selectedMarkets[0].name) : !!listing.price)) === null || _asset$newListings$fi === void 0 ? void 0 : _asset$newListings$fi.price;\n  });\n  const [globalOverride, setGlobalOverride] = useState(false);\n  const showGlobalPrice = globalPriceMethod === SetPriceMethod.SAME_PRICE && !globalOverride;\n  const price = showGlobalPrice ? globalPrice : listPrice;\n  const setPrice = useCallback(price => {\n    showGlobalPrice ? setGlobalPrice(price) : setListPrice(price);\n    for (const marketplace of selectedMarkets) setAssetListPrice(asset, price, marketplace);\n  }, [asset, selectedMarkets, setAssetListPrice, setGlobalPrice, showGlobalPrice]);\n  const fees = useMemo(() => {\n    if (selectedMarkets.length === 1) {\n      return getRoyalty(selectedMarkets[0], asset) + getMarketplaceFee(selectedMarkets[0], asset);\n    } else {\n      let max = 0;\n      for (const selectedMarket of selectedMarkets) {\n        const fee = getRoyalty(selectedMarket, asset) + getMarketplaceFee(selectedMarket, asset);\n        max = Math.max(fee, max);\n      }\n      return max;\n    }\n  }, [asset, selectedMarkets]);\n  const feeInEth = price && price * fees / 100;\n  const userReceives = price && feeInEth && price - feeInEth;\n  useHandleGlobalPriceToggle(globalOverride, setListPrice, setPrice, listPrice, globalPrice);\n  useSyncPriceWithGlobalMethod(asset, setListPrice, setGlobalPrice, setGlobalOverride, listPrice, globalPrice, globalPriceMethod);\n\n  // When in Same Price Mode and not overriding, update local price when global price changes\n  useEffect(() => {\n    if (showGlobalPrice) {\n      setPrice(globalPrice);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [globalPrice]);\n  return /*#__PURE__*/_jsxDEV(Row, {\n    onMouseEnter: toggleMarketRowHovered,\n    onMouseLeave: toggleMarketRowHovered,\n    children: [/*#__PURE__*/_jsxDEV(FloorPriceInfo, {\n      children: /*#__PURE__*/_jsxDEV(ThemedText.BodyPrimary, {\n        color: \"textSecondary\",\n        lineHeight: \"24px\",\n        children: asset.floorPrice ? `${asset.floorPrice.toFixed(3)} ETH` : '-'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LastPriceInfo, {\n      children: /*#__PURE__*/_jsxDEV(ThemedText.BodyPrimary, {\n        color: \"textSecondary\",\n        lineHeight: \"24px\",\n        children: asset.lastPrice ? `${asset.lastPrice.toFixed(3)} ETH` : '-'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      flex: \"2\",\n      children: [(expandMarketplaceRows || selectedMarkets.length > 1) && /*#__PURE__*/_jsxDEV(MarketIconsWrapper, {\n        onMouseEnter: toggleMarketIconHovered,\n        onMouseLeave: toggleMarketIconHovered,\n        children: selectedMarkets.map((market, index) => {\n          var _asset$collection;\n          return /*#__PURE__*/_jsxDEV(MarketIconWrapper, {\n            onClick: e => {\n              e.stopPropagation();\n              removeAssetMarketplace(asset, market);\n              removeMarket && removeMarket();\n            },\n            children: [/*#__PURE__*/_jsxDEV(MarketIcon, {\n              alt: market.name,\n              src: market.icon,\n              index: index\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(RemoveMarketplaceWrap, {\n              hovered: marketIconHovered && (expandMarketplaceRows !== null && expandMarketplaceRows !== void 0 ? expandMarketplaceRows : false),\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                width: \"20px\",\n                src: \"/nft/svgs/minusCircle.svg\",\n                alt: \"Remove item\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this)]\n          }, market.name + ((_asset$collection = asset.collection) === null || _asset$collection === void 0 ? void 0 : _asset$collection.address) + asset.tokenId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(PriceTextInput, {\n        listPrice: price,\n        setListPrice: setPrice,\n        isGlobalPrice: showGlobalPrice,\n        setGlobalOverride: setGlobalOverride,\n        globalOverride: globalOverride,\n        asset: asset\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), rowHovered && (expandMarketplaceRows && marketRowHovered || selectedMarkets.length > 1) && /*#__PURE__*/_jsxDEV(ExpandMarketIconWrapper, {\n        onClick: toggleExpandMarketplaceRows,\n        children: expandMarketplaceRows ? /*#__PURE__*/_jsxDEV(RowsExpandedIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 38\n        }, this) : /*#__PURE__*/_jsxDEV(RowsCollpsedIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 61\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FeeColumnWrapper, {\n      children: /*#__PURE__*/_jsxDEV(MouseoverTooltip, {\n        text: /*#__PURE__*/_jsxDEV(RoyaltyTooltip, {\n          selectedMarkets: selectedMarkets,\n          asset: asset,\n          fees: feeInEth\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 17\n        }, this),\n        placement: \"left\",\n        children: /*#__PURE__*/_jsxDEV(FeeWrapper, {\n          children: /*#__PURE__*/_jsxDEV(ThemedText.BodyPrimary, {\n            color: \"textSecondary\",\n            children: fees > 0 ? `${fees.toFixed(2)}${selectedMarkets.length > 1 ? /*i18n*/i18n._(\"% max\") : '%'}` : '--%'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReturnColumn, {\n      children: /*#__PURE__*/_jsxDEV(EthPriceDisplay, {\n        ethPrice: userReceives\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 193,\n    columnNumber: 5\n  }, this);\n};\n_s(MarketplaceRow, \"HO7OakftwiOPxX1opZnrQVqIeRM=\", false, function () {\n  return [useSellAsset, useSellAsset, useHandleGlobalPriceToggle, useSyncPriceWithGlobalMethod];\n});\n_c = MarketplaceRow;\nconst EthPriceDisplay = _ref5 => {\n  _s2();\n  let {\n    ethPrice = 0\n  } = _ref5;\n  const [ethConversion, setEthConversion] = useState(3000);\n  useEffect(() => {\n    fetchPrice().then(price => {\n      setEthConversion(price !== null && price !== void 0 ? price : 0);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Row, {\n    width: \"100%\",\n    justify: \"flex-end\",\n    children: /*#__PURE__*/_jsxDEV(ThemedText.BodyPrimary, {\n      lineHeight: \"24px\",\n      color: ethPrice ? 'textPrimary' : 'textSecondary',\n      textAlign: \"right\",\n      children: ethPrice !== 0 ? /*#__PURE__*/_jsxDEV(Column, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [formatEth(ethPrice), \" ETH\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ThemedText.BodyPrimary, {\n          color: \"textSecondary\",\n          children: formatUsdPrice(ethPrice * ethConversion)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this) : '- ETH'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 269,\n    columnNumber: 5\n  }, this);\n};\n_s2(EthPriceDisplay, \"m3Le0tqhiBpsNBFzQ/CPiUtwJyI=\");\n_c2 = EthPriceDisplay;\nvar _c, _c2;\n$RefreshReg$(_c, \"MarketplaceRow\");\n$RefreshReg$(_c2, \"EthPriceDisplay\");","map":{"version":3,"names":["Column","Row","MouseoverTooltip","RowsCollpsedIcon","RowsExpandedIcon","getMarketplaceFee","getRoyalty","useHandleGlobalPriceToggle","useSyncPriceWithGlobalMethod","useSellAsset","formatEth","formatUsdPrice","fetchPrice","useCallback","useEffect","useMemo","useReducer","useState","BREAKPOINTS","ThemedText","PriceTextInput","RoyaltyTooltip","RemoveIconWrap","SetPriceMethod","LastPriceInfo","styled","lg","FloorPriceInfo","md","RemoveMarketplaceWrap","MarketIconsWrapper","sm","MarketIconWrapper","MarketIcon","img","index","theme","backgroundInteractive","ExpandMarketIconWrapper","div","FeeColumnWrapper","FeeWrapper","ReturnColumn","MarketplaceRow","globalPriceMethod","globalPrice","setGlobalPrice","selectedMarkets","removeMarket","undefined","asset","expandMarketplaceRows","toggleExpandMarketplaceRows","rowHovered","setAssetListPrice","state","removeAssetMarketplace","marketIconHovered","toggleMarketIconHovered","s","marketRowHovered","toggleMarketRowHovered","listPrice","setListPrice","newListings","find","listing","marketplace","name","price","globalOverride","setGlobalOverride","showGlobalPrice","SAME_PRICE","setPrice","fees","length","max","selectedMarket","fee","Math","feeInEth","userReceives","floorPrice","toFixed","lastPrice","map","market","e","stopPropagation","icon","collection","address","tokenId","EthPriceDisplay","ethPrice","ethConversion","setEthConversion","then"],"sources":["/home/diep/freelance/interface/src/nft/components/profile/list/MarketplaceRow.tsx"],"sourcesContent":["// eslint-disable-next-line no-restricted-imports\nimport { t } from '@lingui/macro'\nimport Column from 'components/Column'\nimport Row from 'components/Row'\nimport { MouseoverTooltip } from 'components/Tooltip'\nimport { RowsCollpsedIcon, RowsExpandedIcon } from 'nft/components/icons'\nimport {\n  getMarketplaceFee,\n  getRoyalty,\n  useHandleGlobalPriceToggle,\n  useSyncPriceWithGlobalMethod,\n} from 'nft/components/profile/list/utils'\nimport { useSellAsset } from 'nft/hooks'\nimport { ListingMarket, WalletAsset } from 'nft/types'\nimport { formatEth, formatUsdPrice } from 'nft/utils/currency'\nimport { fetchPrice } from 'nft/utils/fetchPrice'\nimport { Dispatch, DispatchWithoutAction, useCallback, useEffect, useMemo, useReducer, useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { BREAKPOINTS, ThemedText } from 'theme'\n\nimport { PriceTextInput } from './PriceTextInput'\nimport { RoyaltyTooltip } from './RoyaltyTooltip'\nimport { RemoveIconWrap, SetPriceMethod } from './shared'\n\nconst LastPriceInfo = styled(Column)`\n  text-align: left;\n  display: none;\n  flex: 1;\n\n  @media screen and (min-width: ${BREAKPOINTS.lg}px) {\n    display: flex;\n  }\n`\n\nconst FloorPriceInfo = styled(Column)`\n  text-align: left;\n  display: none;\n  flex: 1;\n\n  @media screen and (min-width: ${BREAKPOINTS.md}px) {\n    display: flex;\n  }\n`\n\nconst RemoveMarketplaceWrap = styled(RemoveIconWrap)`\n  top: 8px;\n  left: 16px;\n  z-index: 3;\n`\n\nconst MarketIconsWrapper = styled(Row)`\n  position: relative;\n  margin-right: 12px;\n  width: 44px;\n  justify-content: flex-end;\n\n  @media screen and (max-width: ${BREAKPOINTS.sm}px) {\n    display: none;\n  }\n`\n\nconst MarketIconWrapper = styled(Column)`\n  position: relative;\n  cursor: pointer;\n`\n\nconst MarketIcon = styled.img<{ index: number }>`\n  width: 20px;\n  height: 20px;\n  border-radius: 4px;\n  object-fit: cover;\n  z-index: ${({ index }) => 2 - index};\n  margin-left: ${({ index }) => `${index === 0 ? 0 : -8}px`};\n  outline: 1px solid ${({ theme }) => theme.backgroundInteractive};\n`\n\nconst ExpandMarketIconWrapper = styled.div`\n  cursor: pointer;\n  margin-left: 4px;\n  height: 28px;\n\n  @media screen and (max-width: ${BREAKPOINTS.sm}px) {\n    display: none;\n  }\n`\n\nconst FeeColumnWrapper = styled(Column)`\n  flex: 1;\n  align-items: flex-end;\n  display: none;\n\n  @media screen and (min-width: ${BREAKPOINTS.md}px) {\n    display: flex;\n  }\n`\n\nconst FeeWrapper = styled.div`\n  width: min-content;\n  white-space: nowrap;\n`\n\nconst ReturnColumn = styled(Column)`\n  flex: 1.5;\n  display: none;\n\n  @media screen and (min-width: ${BREAKPOINTS.md}px) {\n    display: flex;\n  }\n`\n\ninterface MarketplaceRowProps {\n  globalPriceMethod?: SetPriceMethod\n  globalPrice?: number\n  setGlobalPrice: Dispatch<number | undefined>\n  selectedMarkets: ListingMarket[]\n  removeMarket?: () => void\n  asset: WalletAsset\n  expandMarketplaceRows?: boolean\n  rowHovered?: boolean\n  toggleExpandMarketplaceRows: DispatchWithoutAction\n}\n\nexport const MarketplaceRow = ({\n  globalPriceMethod,\n  globalPrice,\n  setGlobalPrice,\n  selectedMarkets,\n  removeMarket = undefined,\n  asset,\n  expandMarketplaceRows,\n  toggleExpandMarketplaceRows,\n  rowHovered,\n}: MarketplaceRowProps) => {\n  const setAssetListPrice = useSellAsset((state) => state.setAssetListPrice)\n  const removeAssetMarketplace = useSellAsset((state) => state.removeAssetMarketplace)\n  const [marketIconHovered, toggleMarketIconHovered] = useReducer((s) => !s, false)\n  const [marketRowHovered, toggleMarketRowHovered] = useReducer((s) => !s, false)\n  const [listPrice, setListPrice] = useState<number | undefined>(\n    () =>\n      asset.newListings?.find((listing) =>\n        expandMarketplaceRows ? listing.marketplace.name === selectedMarkets?.[0].name : !!listing.price\n      )?.price\n  )\n  const [globalOverride, setGlobalOverride] = useState(false)\n\n  const showGlobalPrice = globalPriceMethod === SetPriceMethod.SAME_PRICE && !globalOverride\n  const price = showGlobalPrice ? globalPrice : listPrice\n  const setPrice = useCallback(\n    (price?: number) => {\n      showGlobalPrice ? setGlobalPrice(price) : setListPrice(price)\n      for (const marketplace of selectedMarkets) setAssetListPrice(asset, price, marketplace)\n    },\n    [asset, selectedMarkets, setAssetListPrice, setGlobalPrice, showGlobalPrice]\n  )\n\n  const fees = useMemo(() => {\n    if (selectedMarkets.length === 1) {\n      return getRoyalty(selectedMarkets[0], asset) + getMarketplaceFee(selectedMarkets[0], asset)\n    } else {\n      let max = 0\n      for (const selectedMarket of selectedMarkets) {\n        const fee = getRoyalty(selectedMarket, asset) + getMarketplaceFee(selectedMarket, asset)\n        max = Math.max(fee, max)\n      }\n\n      return max\n    }\n  }, [asset, selectedMarkets])\n\n  const feeInEth = price && (price * fees) / 100\n  const userReceives = price && feeInEth && price - feeInEth\n\n  useHandleGlobalPriceToggle(globalOverride, setListPrice, setPrice, listPrice, globalPrice)\n  useSyncPriceWithGlobalMethod(\n    asset,\n    setListPrice,\n    setGlobalPrice,\n    setGlobalOverride,\n    listPrice,\n    globalPrice,\n    globalPriceMethod\n  )\n\n  // When in Same Price Mode and not overriding, update local price when global price changes\n  useEffect(() => {\n    if (showGlobalPrice) {\n      setPrice(globalPrice)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [globalPrice])\n\n  return (\n    <Row onMouseEnter={toggleMarketRowHovered} onMouseLeave={toggleMarketRowHovered}>\n      <FloorPriceInfo>\n        <ThemedText.BodyPrimary color=\"textSecondary\" lineHeight=\"24px\">\n          {asset.floorPrice ? `${asset.floorPrice.toFixed(3)} ETH` : '-'}\n        </ThemedText.BodyPrimary>\n      </FloorPriceInfo>\n      <LastPriceInfo>\n        <ThemedText.BodyPrimary color=\"textSecondary\" lineHeight=\"24px\">\n          {asset.lastPrice ? `${asset.lastPrice.toFixed(3)} ETH` : '-'}\n        </ThemedText.BodyPrimary>\n      </LastPriceInfo>\n\n      <Row flex=\"2\">\n        {(expandMarketplaceRows || selectedMarkets.length > 1) && (\n          <MarketIconsWrapper onMouseEnter={toggleMarketIconHovered} onMouseLeave={toggleMarketIconHovered}>\n            {selectedMarkets.map((market, index) => (\n              <MarketIconWrapper\n                key={market.name + asset.collection?.address + asset.tokenId}\n                onClick={(e) => {\n                  e.stopPropagation()\n                  removeAssetMarketplace(asset, market)\n                  removeMarket && removeMarket()\n                }}\n              >\n                <MarketIcon alt={market.name} src={market.icon} index={index} />\n                <RemoveMarketplaceWrap hovered={marketIconHovered && (expandMarketplaceRows ?? false)}>\n                  <img width=\"20px\" src=\"/nft/svgs/minusCircle.svg\" alt=\"Remove item\" />\n                </RemoveMarketplaceWrap>\n              </MarketIconWrapper>\n            ))}\n          </MarketIconsWrapper>\n        )}\n        <PriceTextInput\n          listPrice={price}\n          setListPrice={setPrice}\n          isGlobalPrice={showGlobalPrice}\n          setGlobalOverride={setGlobalOverride}\n          globalOverride={globalOverride}\n          asset={asset}\n        />\n        {rowHovered && ((expandMarketplaceRows && marketRowHovered) || selectedMarkets.length > 1) && (\n          <ExpandMarketIconWrapper onClick={toggleExpandMarketplaceRows}>\n            {expandMarketplaceRows ? <RowsExpandedIcon /> : <RowsCollpsedIcon />}\n          </ExpandMarketIconWrapper>\n        )}\n      </Row>\n\n      <FeeColumnWrapper>\n        <MouseoverTooltip\n          text={<RoyaltyTooltip selectedMarkets={selectedMarkets} asset={asset} fees={feeInEth} />}\n          placement=\"left\"\n        >\n          <FeeWrapper>\n            <ThemedText.BodyPrimary color=\"textSecondary\">\n              {fees > 0 ? `${fees.toFixed(2)}${selectedMarkets.length > 1 ? t`% max` : '%'}` : '--%'}\n            </ThemedText.BodyPrimary>\n          </FeeWrapper>\n        </MouseoverTooltip>\n      </FeeColumnWrapper>\n\n      <ReturnColumn>\n        <EthPriceDisplay ethPrice={userReceives} />\n      </ReturnColumn>\n    </Row>\n  )\n}\n\nconst EthPriceDisplay = ({ ethPrice = 0 }: { ethPrice?: number }) => {\n  const [ethConversion, setEthConversion] = useState(3000)\n  useEffect(() => {\n    fetchPrice().then((price) => {\n      setEthConversion(price ?? 0)\n    })\n  }, [])\n\n  return (\n    <Row width=\"100%\" justify=\"flex-end\">\n      <ThemedText.BodyPrimary lineHeight=\"24px\" color={ethPrice ? 'textPrimary' : 'textSecondary'} textAlign=\"right\">\n        {ethPrice !== 0 ? (\n          <Column>\n            <span>{formatEth(ethPrice)} ETH</span>\n            <ThemedText.BodyPrimary color=\"textSecondary\">\n              {formatUsdPrice(ethPrice * ethConversion)}\n            </ThemedText.BodyPrimary>\n          </Column>\n        ) : (\n          '- ETH'\n        )}\n      </ThemedText.BodyPrimary>\n    </Row>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}