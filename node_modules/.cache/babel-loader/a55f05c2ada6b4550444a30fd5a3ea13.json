{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.user = exports.getSessionId = exports.getUserId = exports.getDeviceId = exports.sendAnalyticsEvent = exports.initializeAnalytics = exports.analyticsConfig = void 0;\nconst analytics_browser_1 = require(\"@amplitude/analytics-browser\");\nconst ApplicationTransport_1 = require(\"./ApplicationTransport\");\nlet isInitialized = false;\n/**\n * Initializes Amplitude with API key for project.\n *\n * Uniswap has two Amplitude projects: test and production. You must be a\n * member of the organization on Amplitude to view details.\n *\n * @param apiKey API key of the application. Currently not utilized in order to keep keys private.\n * @param originApplication Name of the application consuming the package. Used to route events to the correct project.\n * @param options Contains options to be used in the configuration of the package\n */\nfunction initializeAnalytics(apiKey, originApplication, config) {\n  // Non-production environments may use hot-reloading, which will re-initialize but should be ignored.\n  if (!(config === null || config === void 0 ? void 0 : config.isProductionEnv) && isInitialized) {\n    return;\n  }\n  if (config === null || config === void 0 ? void 0 : config.isProductionEnv) {\n    if (isInitialized) {\n      throw new Error('initializeAnalytics called multiple times. Ensure it is outside of a React component.');\n    }\n    if (config.debug) {\n      throw new Error(`It looks like you're trying to initialize analytics in debug mode for production. Disable debug mode or use a non-production environment.`);\n    }\n  }\n  isInitialized = true;\n  exports.analyticsConfig = config;\n  (0, analytics_browser_1.init)(apiKey, /* userId= */undefined,\n  // User ID should be undefined to let Amplitude default to Device ID\n  /* options= */\n  {\n    // Configure the SDK to work with alternate endpoint\n    serverUrl: config === null || config === void 0 ? void 0 : config.proxyUrl,\n    // Configure the SDK to set the x-application-origin header\n    transportProvider: new ApplicationTransport_1.ApplicationTransport(originApplication),\n    // Disable tracking of private user information by Amplitude\n    trackingOptions: {\n      ipAddress: false,\n      carrier: false,\n      city: false,\n      region: false,\n      dma: false // designated market area\n    }\n  });\n}\n\nexports.initializeAnalytics = initializeAnalytics;\n/** Sends an event to Amplitude. */\nfunction sendAnalyticsEvent(eventName, eventProperties) {\n  const origin = window.location.origin;\n  if (exports.analyticsConfig === null || exports.analyticsConfig === void 0 ? void 0 : exports.analyticsConfig.debug) {\n    console.log({\n      eventName,\n      eventProperties: Object.assign(Object.assign({}, eventProperties), {\n        origin\n      })\n    });\n  }\n  (0, analytics_browser_1.track)(eventName, Object.assign(Object.assign({}, eventProperties), {\n    origin\n  }));\n}\nexports.sendAnalyticsEvent = sendAnalyticsEvent;\nfunction getDeviceId() {\n  return (0, analytics_browser_1.getDeviceId)();\n}\nexports.getDeviceId = getDeviceId;\nfunction getUserId() {\n  return (0, analytics_browser_1.getUserId)();\n}\nexports.getUserId = getUserId;\nfunction getSessionId() {\n  return (0, analytics_browser_1.getSessionId)();\n}\nexports.getSessionId = getSessionId;\n/**\n * Class that exposes methods to mutate the User Model's properties in\n * Amplitude that represents the current session's user.\n *\n * See https://help.amplitude.com/hc/en-us/articles/115002380567-User-properties-and-event-properties\n * for details.\n */\nclass UserModel {\n  log(method) {\n    for (var _len = arguments.length, parameters = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      parameters[_key - 1] = arguments[_key];\n    }\n    console.debug(`[amplitude(Identify)]: ${method}(${parameters})`);\n  }\n  call(mutate) {\n    if (!(exports.analyticsConfig === null || exports.analyticsConfig === void 0 ? void 0 : exports.analyticsConfig.isProductionEnv)) {\n      const log = (_, method) => this.log.bind(this, method);\n      mutate(new Proxy(new analytics_browser_1.Identify(), {\n        get: log\n      }));\n      return;\n    }\n    (0, analytics_browser_1.identify)(mutate(new analytics_browser_1.Identify()));\n  }\n  set(key, value) {\n    this.call(event => event.set(key, value));\n  }\n  setOnce(key, value) {\n    this.call(event => event.setOnce(key, value));\n  }\n  add(key, value) {\n    this.call(event => event.add(key, value));\n  }\n  postInsert(key, value) {\n    this.call(event => event.postInsert(key, value));\n  }\n  remove(key, value) {\n    this.call(event => event.remove(key, value));\n  }\n}\nexports.user = new UserModel();","map":{"version":3,"names":["Object","defineProperty","exports","value","user","getSessionId","getUserId","getDeviceId","sendAnalyticsEvent","initializeAnalytics","analyticsConfig","analytics_browser_1","require","ApplicationTransport_1","isInitialized","apiKey","originApplication","config","isProductionEnv","Error","debug","init","undefined","serverUrl","proxyUrl","transportProvider","ApplicationTransport","trackingOptions","ipAddress","carrier","city","region","dma","eventName","eventProperties","origin","window","location","console","log","assign","track","UserModel","method","parameters","call","mutate","_","bind","Proxy","Identify","get","identify","set","key","event","setOnce","add","postInsert","remove"],"sources":["/home/diep/freelance/interface/node_modules/@uniswap/analytics/lib/cjs/analytics/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.user = exports.getSessionId = exports.getUserId = exports.getDeviceId = exports.sendAnalyticsEvent = exports.initializeAnalytics = exports.analyticsConfig = void 0;\nconst analytics_browser_1 = require(\"@amplitude/analytics-browser\");\nconst ApplicationTransport_1 = require(\"./ApplicationTransport\");\nlet isInitialized = false;\n/**\n * Initializes Amplitude with API key for project.\n *\n * Uniswap has two Amplitude projects: test and production. You must be a\n * member of the organization on Amplitude to view details.\n *\n * @param apiKey API key of the application. Currently not utilized in order to keep keys private.\n * @param originApplication Name of the application consuming the package. Used to route events to the correct project.\n * @param options Contains options to be used in the configuration of the package\n */\nfunction initializeAnalytics(apiKey, originApplication, config) {\n    // Non-production environments may use hot-reloading, which will re-initialize but should be ignored.\n    if (!(config === null || config === void 0 ? void 0 : config.isProductionEnv) && isInitialized) {\n        return;\n    }\n    if (config === null || config === void 0 ? void 0 : config.isProductionEnv) {\n        if (isInitialized) {\n            throw new Error('initializeAnalytics called multiple times. Ensure it is outside of a React component.');\n        }\n        if (config.debug) {\n            throw new Error(`It looks like you're trying to initialize analytics in debug mode for production. Disable debug mode or use a non-production environment.`);\n        }\n    }\n    isInitialized = true;\n    exports.analyticsConfig = config;\n    (0, analytics_browser_1.init)(apiKey, \n    /* userId= */ undefined, // User ID should be undefined to let Amplitude default to Device ID\n    /* options= */\n    {\n        // Configure the SDK to work with alternate endpoint\n        serverUrl: config === null || config === void 0 ? void 0 : config.proxyUrl,\n        // Configure the SDK to set the x-application-origin header\n        transportProvider: new ApplicationTransport_1.ApplicationTransport(originApplication),\n        // Disable tracking of private user information by Amplitude\n        trackingOptions: {\n            ipAddress: false,\n            carrier: false,\n            city: false,\n            region: false,\n            dma: false, // designated market area\n        },\n    });\n}\nexports.initializeAnalytics = initializeAnalytics;\n/** Sends an event to Amplitude. */\nfunction sendAnalyticsEvent(eventName, eventProperties) {\n    const origin = window.location.origin;\n    if (exports.analyticsConfig === null || exports.analyticsConfig === void 0 ? void 0 : exports.analyticsConfig.debug) {\n        console.log({\n            eventName,\n            eventProperties: Object.assign(Object.assign({}, eventProperties), { origin }),\n        });\n    }\n    (0, analytics_browser_1.track)(eventName, Object.assign(Object.assign({}, eventProperties), { origin }));\n}\nexports.sendAnalyticsEvent = sendAnalyticsEvent;\nfunction getDeviceId() {\n    return (0, analytics_browser_1.getDeviceId)();\n}\nexports.getDeviceId = getDeviceId;\nfunction getUserId() {\n    return (0, analytics_browser_1.getUserId)();\n}\nexports.getUserId = getUserId;\nfunction getSessionId() {\n    return (0, analytics_browser_1.getSessionId)();\n}\nexports.getSessionId = getSessionId;\n/**\n * Class that exposes methods to mutate the User Model's properties in\n * Amplitude that represents the current session's user.\n *\n * See https://help.amplitude.com/hc/en-us/articles/115002380567-User-properties-and-event-properties\n * for details.\n */\nclass UserModel {\n    log(method, ...parameters) {\n        console.debug(`[amplitude(Identify)]: ${method}(${parameters})`);\n    }\n    call(mutate) {\n        if (!(exports.analyticsConfig === null || exports.analyticsConfig === void 0 ? void 0 : exports.analyticsConfig.isProductionEnv)) {\n            const log = (_, method) => this.log.bind(this, method);\n            mutate(new Proxy(new analytics_browser_1.Identify(), { get: log }));\n            return;\n        }\n        (0, analytics_browser_1.identify)(mutate(new analytics_browser_1.Identify()));\n    }\n    set(key, value) {\n        this.call((event) => event.set(key, value));\n    }\n    setOnce(key, value) {\n        this.call((event) => event.setOnce(key, value));\n    }\n    add(key, value) {\n        this.call((event) => event.add(key, value));\n    }\n    postInsert(key, value) {\n        this.call((event) => event.postInsert(key, value));\n    }\n    remove(key, value) {\n        this.call((event) => event.remove(key, value));\n    }\n}\nexports.user = new UserModel();\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}