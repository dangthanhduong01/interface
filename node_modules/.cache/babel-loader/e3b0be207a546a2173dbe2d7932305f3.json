{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getUserCacheKey = exports.getHashValue = exports.SimpleHash = void 0;\nvar js_sha256_1 = require(\"js-sha256\");\nvar Base64_1 = require(\"./Base64\");\nfunction SimpleHash(value) {\n  var hash = 0;\n  for (var i = 0; i < value.length; i++) {\n    var character = value.charCodeAt(i);\n    hash = (hash << 5) - hash + character;\n    hash = hash & hash; // Convert to 32bit integer\n  }\n\n  return String(hash);\n}\nexports.SimpleHash = SimpleHash;\nfunction getHashValue(value) {\n  var buffer = js_sha256_1.sha256.create().update(value).arrayBuffer();\n  return Base64_1.Base64.encodeArrayBuffer(buffer);\n}\nexports.getHashValue = getHashValue;\nfunction getUserCacheKey(stableId, user) {\n  var _a;\n  var key = \"userID:\" + String((_a = user === null || user === void 0 ? void 0 : user.userID) !== null && _a !== void 0 ? _a : '') + \";stableID:\" + stableId;\n  var customIDs = user === null || user === void 0 ? void 0 : user.customIDs;\n  if (customIDs != null) {\n    for (var _i = 0, _b = Object.entries(customIDs); _i < _b.length; _i++) {\n      var _c = _b[_i],\n        type = _c[0],\n        value = _c[1];\n      key += \";\" + type + \":\" + value;\n    }\n  }\n  return SimpleHash(key);\n}\nexports.getUserCacheKey = getUserCacheKey;","map":{"version":3,"names":["Object","defineProperty","exports","value","getUserCacheKey","getHashValue","SimpleHash","js_sha256_1","require","Base64_1","hash","i","length","character","charCodeAt","String","buffer","sha256","create","update","arrayBuffer","Base64","encodeArrayBuffer","stableId","user","_a","key","userID","customIDs","_i","_b","entries","_c","type"],"sources":["/home/diep/freelance/interface/node_modules/statsig-js/dist/utils/Hashing.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getUserCacheKey = exports.getHashValue = exports.SimpleHash = void 0;\nvar js_sha256_1 = require(\"js-sha256\");\nvar Base64_1 = require(\"./Base64\");\nfunction SimpleHash(value) {\n    var hash = 0;\n    for (var i = 0; i < value.length; i++) {\n        var character = value.charCodeAt(i);\n        hash = (hash << 5) - hash + character;\n        hash = hash & hash; // Convert to 32bit integer\n    }\n    return String(hash);\n}\nexports.SimpleHash = SimpleHash;\nfunction getHashValue(value) {\n    var buffer = js_sha256_1.sha256.create().update(value).arrayBuffer();\n    return Base64_1.Base64.encodeArrayBuffer(buffer);\n}\nexports.getHashValue = getHashValue;\nfunction getUserCacheKey(stableId, user) {\n    var _a;\n    var key = \"userID:\" + String((_a = user === null || user === void 0 ? void 0 : user.userID) !== null && _a !== void 0 ? _a : '') + \";stableID:\" + stableId;\n    var customIDs = user === null || user === void 0 ? void 0 : user.customIDs;\n    if (customIDs != null) {\n        for (var _i = 0, _b = Object.entries(customIDs); _i < _b.length; _i++) {\n            var _c = _b[_i], type = _c[0], value = _c[1];\n            key += \";\" + type + \":\" + value;\n        }\n    }\n    return SimpleHash(key);\n}\nexports.getUserCacheKey = getUserCacheKey;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,eAAe,GAAGF,OAAO,CAACG,YAAY,GAAGH,OAAO,CAACI,UAAU,GAAG,KAAK,CAAC;AAC5E,IAAIC,WAAW,GAAGC,OAAO,CAAC,WAAW,CAAC;AACtC,IAAIC,QAAQ,GAAGD,OAAO,CAAC,UAAU,CAAC;AAClC,SAASF,UAAU,CAACH,KAAK,EAAE;EACvB,IAAIO,IAAI,GAAG,CAAC;EACZ,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,KAAK,CAACS,MAAM,EAAED,CAAC,EAAE,EAAE;IACnC,IAAIE,SAAS,GAAGV,KAAK,CAACW,UAAU,CAACH,CAAC,CAAC;IACnCD,IAAI,GAAG,CAACA,IAAI,IAAI,CAAC,IAAIA,IAAI,GAAGG,SAAS;IACrCH,IAAI,GAAGA,IAAI,GAAGA,IAAI,CAAC,CAAC;EACxB;;EACA,OAAOK,MAAM,CAACL,IAAI,CAAC;AACvB;AACAR,OAAO,CAACI,UAAU,GAAGA,UAAU;AAC/B,SAASD,YAAY,CAACF,KAAK,EAAE;EACzB,IAAIa,MAAM,GAAGT,WAAW,CAACU,MAAM,CAACC,MAAM,EAAE,CAACC,MAAM,CAAChB,KAAK,CAAC,CAACiB,WAAW,EAAE;EACpE,OAAOX,QAAQ,CAACY,MAAM,CAACC,iBAAiB,CAACN,MAAM,CAAC;AACpD;AACAd,OAAO,CAACG,YAAY,GAAGA,YAAY;AACnC,SAASD,eAAe,CAACmB,QAAQ,EAAEC,IAAI,EAAE;EACrC,IAAIC,EAAE;EACN,IAAIC,GAAG,GAAG,SAAS,GAAGX,MAAM,CAAC,CAACU,EAAE,GAAGD,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACG,MAAM,MAAM,IAAI,IAAIF,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,EAAE,CAAC,GAAG,YAAY,GAAGF,QAAQ;EAC1J,IAAIK,SAAS,GAAGJ,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACI,SAAS;EAC1E,IAAIA,SAAS,IAAI,IAAI,EAAE;IACnB,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAG9B,MAAM,CAAC+B,OAAO,CAACH,SAAS,CAAC,EAAEC,EAAE,GAAGC,EAAE,CAAClB,MAAM,EAAEiB,EAAE,EAAE,EAAE;MACnE,IAAIG,EAAE,GAAGF,EAAE,CAACD,EAAE,CAAC;QAAEI,IAAI,GAAGD,EAAE,CAAC,CAAC,CAAC;QAAE7B,KAAK,GAAG6B,EAAE,CAAC,CAAC,CAAC;MAC5CN,GAAG,IAAI,GAAG,GAAGO,IAAI,GAAG,GAAG,GAAG9B,KAAK;IACnC;EACJ;EACA,OAAOG,UAAU,CAACoB,GAAG,CAAC;AAC1B;AACAxB,OAAO,CAACE,eAAe,GAAGA,eAAe"},"metadata":{},"sourceType":"script"}