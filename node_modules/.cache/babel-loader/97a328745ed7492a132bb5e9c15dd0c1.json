{"ast":null,"code":"var _jsxFileName = \"/home/diep/freelance/interface/src/components/Web3Provider/index.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useWeb3React, Web3ReactProvider } from '@web3-react/core';\nimport { isSupportedChain } from 'constants/chains';\nimport { RPC_PROVIDERS } from 'constants/providers';\nimport { TraceJsonRpcVariant, useTraceJsonRpcFlag } from 'featureFlags/flags/traceJsonRpc';\nimport useEagerlyConnect from 'hooks/useEagerlyConnect';\nimport useOrderedConnections from 'hooks/useOrderedConnections';\nimport { useEffect, useMemo } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Web3Provider(_ref) {\n  _s();\n  let {\n    children\n  } = _ref;\n  useEagerlyConnect();\n  const connections = useOrderedConnections();\n  const connectors = connections.map(_ref2 => {\n    let {\n      hooks,\n      connector\n    } = _ref2;\n    return [connector, hooks];\n  });\n  const key = useMemo(() => connections.map(connection => connection.getName()).join('-'), [connections]);\n  return /*#__PURE__*/_jsxDEV(Web3ReactProvider, {\n    connectors: connectors,\n    children: [/*#__PURE__*/_jsxDEV(Tracer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), children]\n  }, key, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n}\n_s(Web3Provider, \"2JPRmnwkCaiFBJ2igCSg30T2IxM=\", false, function () {\n  return [useEagerlyConnect, useOrderedConnections];\n});\n_c = Web3Provider;\nfunction Tracer() {\n  _s2();\n  const {\n    chainId,\n    provider\n  } = useWeb3React();\n  const networkProvider = isSupportedChain(chainId) ? RPC_PROVIDERS[chainId] : undefined;\n  const shouldTrace = useTraceJsonRpcFlag() === TraceJsonRpcVariant.Enabled;\n  useEffect(() => {\n    if (shouldTrace) {\n      provider === null || provider === void 0 ? void 0 : provider.on('debug', trace);\n      if (provider !== networkProvider) {\n        networkProvider === null || networkProvider === void 0 ? void 0 : networkProvider.on('debug', trace);\n      }\n    }\n    return () => {\n      provider === null || provider === void 0 ? void 0 : provider.off('debug', trace);\n      networkProvider === null || networkProvider === void 0 ? void 0 : networkProvider.off('debug', trace);\n    };\n  }, [networkProvider, provider, shouldTrace]);\n  return null;\n}\n_s2(Tracer, \"zm0Fpj7/ufnm52A2ped12j9tVFk=\", false, function () {\n  return [useWeb3React, useTraceJsonRpcFlag];\n});\n_c2 = Tracer;\nfunction trace(event) {\n  if (event.action !== 'request') return;\n  const {\n    method,\n    id,\n    params\n  } = event.request;\n  console.groupCollapsed(method, id);\n  console.debug(params);\n  console.groupEnd();\n}\nvar _c, _c2;\n$RefreshReg$(_c, \"Web3Provider\");\n$RefreshReg$(_c2, \"Tracer\");","map":{"version":3,"names":["useWeb3React","Web3ReactProvider","isSupportedChain","RPC_PROVIDERS","TraceJsonRpcVariant","useTraceJsonRpcFlag","useEagerlyConnect","useOrderedConnections","useEffect","useMemo","Web3Provider","children","connections","connectors","map","hooks","connector","key","connection","getName","join","Tracer","chainId","provider","networkProvider","undefined","shouldTrace","Enabled","on","trace","off","event","action","method","id","params","request","console","groupCollapsed","debug","groupEnd"],"sources":["/home/diep/freelance/interface/src/components/Web3Provider/index.tsx"],"sourcesContent":["import { useWeb3React, Web3ReactHooks, Web3ReactProvider } from '@web3-react/core'\nimport { Connector } from '@web3-react/types'\nimport { isSupportedChain } from 'constants/chains'\nimport { RPC_PROVIDERS } from 'constants/providers'\nimport { TraceJsonRpcVariant, useTraceJsonRpcFlag } from 'featureFlags/flags/traceJsonRpc'\nimport useEagerlyConnect from 'hooks/useEagerlyConnect'\nimport useOrderedConnections from 'hooks/useOrderedConnections'\nimport { ReactNode, useEffect, useMemo } from 'react'\n\nexport default function Web3Provider({ children }: { children: ReactNode }) {\n  useEagerlyConnect()\n  const connections = useOrderedConnections()\n  const connectors: [Connector, Web3ReactHooks][] = connections.map(({ hooks, connector }) => [connector, hooks])\n\n  const key = useMemo(() => connections.map((connection) => connection.getName()).join('-'), [connections])\n\n  return (\n    <Web3ReactProvider connectors={connectors} key={key}>\n      <Tracer />\n      {children}\n    </Web3ReactProvider>\n  )\n}\n\nfunction Tracer() {\n  const { chainId, provider } = useWeb3React()\n  const networkProvider = isSupportedChain(chainId) ? RPC_PROVIDERS[chainId] : undefined\n  const shouldTrace = useTraceJsonRpcFlag() === TraceJsonRpcVariant.Enabled\n\n  useEffect(() => {\n    if (shouldTrace) {\n      provider?.on('debug', trace)\n      if (provider !== networkProvider) {\n        networkProvider?.on('debug', trace)\n      }\n    }\n    return () => {\n      provider?.off('debug', trace)\n      networkProvider?.off('debug', trace)\n    }\n  }, [networkProvider, provider, shouldTrace])\n\n  return null\n}\n\nfunction trace(event: any) {\n  if (event.action !== 'request') return\n  const { method, id, params } = event.request\n  console.groupCollapsed(method, id)\n  console.debug(params)\n  console.groupEnd()\n}\n"],"mappings":";;;AAAA,SAASA,YAAY,EAAkBC,iBAAiB,QAAQ,kBAAkB;AAElF,SAASC,gBAAgB,QAAQ,kBAAkB;AACnD,SAASC,aAAa,QAAQ,qBAAqB;AACnD,SAASC,mBAAmB,EAAEC,mBAAmB,QAAQ,iCAAiC;AAC1F,OAAOC,iBAAiB,MAAM,yBAAyB;AACvD,OAAOC,qBAAqB,MAAM,6BAA6B;AAC/D,SAAoBC,SAAS,EAAEC,OAAO,QAAQ,OAAO;AAAA;AAErD,eAAe,SAASC,YAAY,OAAwC;EAAA;EAAA,IAAvC;IAAEC;EAAkC,CAAC;EACxEL,iBAAiB,EAAE;EACnB,MAAMM,WAAW,GAAGL,qBAAqB,EAAE;EAC3C,MAAMM,UAAyC,GAAGD,WAAW,CAACE,GAAG,CAAC;IAAA,IAAC;MAAEC,KAAK;MAAEC;IAAU,CAAC;IAAA,OAAK,CAACA,SAAS,EAAED,KAAK,CAAC;EAAA,EAAC;EAE/G,MAAME,GAAG,GAAGR,OAAO,CAAC,MAAMG,WAAW,CAACE,GAAG,CAAEI,UAAU,IAAKA,UAAU,CAACC,OAAO,EAAE,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,EAAE,CAACR,WAAW,CAAC,CAAC;EAEzG,oBACE,QAAC,iBAAiB;IAAC,UAAU,EAAEC,UAAW;IAAA,wBACxC,QAAC,MAAM;MAAA;MAAA;MAAA;IAAA,QAAG,EACTF,QAAQ;EAAA,GAFqCM,GAAG;IAAA;IAAA;IAAA;EAAA,QAG/B;AAExB;AAAC,GAbuBP,YAAY;EAAA,QAClCJ,iBAAiB,EACGC,qBAAqB;AAAA;AAAA,KAFnBG,YAAY;AAepC,SAASW,MAAM,GAAG;EAAA;EAChB,MAAM;IAAEC,OAAO;IAAEC;EAAS,CAAC,GAAGvB,YAAY,EAAE;EAC5C,MAAMwB,eAAe,GAAGtB,gBAAgB,CAACoB,OAAO,CAAC,GAAGnB,aAAa,CAACmB,OAAO,CAAC,GAAGG,SAAS;EACtF,MAAMC,WAAW,GAAGrB,mBAAmB,EAAE,KAAKD,mBAAmB,CAACuB,OAAO;EAEzEnB,SAAS,CAAC,MAAM;IACd,IAAIkB,WAAW,EAAE;MACfH,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEK,EAAE,CAAC,OAAO,EAAEC,KAAK,CAAC;MAC5B,IAAIN,QAAQ,KAAKC,eAAe,EAAE;QAChCA,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEI,EAAE,CAAC,OAAO,EAAEC,KAAK,CAAC;MACrC;IACF;IACA,OAAO,MAAM;MACXN,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEO,GAAG,CAAC,OAAO,EAAED,KAAK,CAAC;MAC7BL,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEM,GAAG,CAAC,OAAO,EAAED,KAAK,CAAC;IACtC,CAAC;EACH,CAAC,EAAE,CAACL,eAAe,EAAED,QAAQ,EAAEG,WAAW,CAAC,CAAC;EAE5C,OAAO,IAAI;AACb;AAAC,IAnBQL,MAAM;EAAA,QACiBrB,YAAY,EAEtBK,mBAAmB;AAAA;AAAA,MAHhCgB,MAAM;AAqBf,SAASQ,KAAK,CAACE,KAAU,EAAE;EACzB,IAAIA,KAAK,CAACC,MAAM,KAAK,SAAS,EAAE;EAChC,MAAM;IAAEC,MAAM;IAAEC,EAAE;IAAEC;EAAO,CAAC,GAAGJ,KAAK,CAACK,OAAO;EAC5CC,OAAO,CAACC,cAAc,CAACL,MAAM,EAAEC,EAAE,CAAC;EAClCG,OAAO,CAACE,KAAK,CAACJ,MAAM,CAAC;EACrBE,OAAO,CAACG,QAAQ,EAAE;AACpB;AAAC;AAAA;AAAA"},"metadata":{},"sourceType":"module"}