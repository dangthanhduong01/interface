{"ast":null,"code":"import { MaxUint256 } from '@ethersproject/constants';\nimport { PERMIT2_ADDRESS, UNIVERSAL_ROUTER_ADDRESS } from '@uniswap/universal-router-sdk';\nimport axios from 'axios';\nimport { BigNumber } from 'ethers/lib/ethers';\nimport { SwapType } from '../routers';\nimport { Erc20__factory } from '../types/other/factories/Erc20__factory';\nimport { Permit2__factory } from '../types/other/factories/Permit2__factory';\nimport { ChainId, log, MAX_UINT160, SWAP_ROUTER_02_ADDRESSES } from '../util';\nimport { APPROVE_TOKEN_FOR_TRANSFER } from '../util/callData';\nimport { calculateGasUsed, initSwapRouteFromExisting } from '../util/gas-factory-helpers';\nimport { SimulationStatus, Simulator } from './simulation-provider';\nconst TENDERLY_BATCH_SIMULATE_API = (tenderlyBaseUrl, tenderlyUser, tenderlyProject) => `${tenderlyBaseUrl}/api/v1/account/${tenderlyUser}/project/${tenderlyProject}/simulate-batch`;\n// We multiply tenderly gas limit by this to overestimate gas limit\nconst DEFAULT_ESTIMATE_MULTIPLIER = 1.25;\nexport class FallbackTenderlySimulator extends Simulator {\n  constructor(chainId, provider, tenderlySimulator, ethEstimateGasSimulator) {\n    super(provider, chainId);\n    this.tenderlySimulator = tenderlySimulator;\n    this.ethEstimateGasSimulator = ethEstimateGasSimulator;\n  }\n  async simulateTransaction(fromAddress, swapOptions, swapRoute, l2GasData, providerConfig) {\n    // Make call to eth estimate gas if possible\n    // For erc20s, we must check if the token allowance is sufficient\n    const inputAmount = swapRoute.trade.inputAmount;\n    if (inputAmount.currency.isNative || (await this.checkTokenApproved(fromAddress, inputAmount, swapOptions, this.provider))) {\n      log.info('Simulating with eth_estimateGas since token is native or approved.');\n      try {\n        const swapRouteWithGasEstimate = await this.ethEstimateGasSimulator.ethEstimateGas(fromAddress, swapOptions, swapRoute, l2GasData);\n        return swapRouteWithGasEstimate;\n      } catch (err) {\n        log.info({\n          err: err\n        }, 'Error simulating using eth_estimateGas');\n        return {\n          ...swapRoute,\n          simulationStatus: SimulationStatus.Failed\n        };\n      }\n    }\n    try {\n      return await this.tenderlySimulator.simulateTransaction(fromAddress, swapOptions, swapRoute, l2GasData, providerConfig);\n    } catch (err) {\n      log.info({\n        err: err\n      }, 'Failed to simulate via Tenderly');\n      return {\n        ...swapRoute,\n        simulationStatus: SimulationStatus.Failed\n      };\n    }\n  }\n}\nexport class TenderlySimulator extends Simulator {\n  constructor(chainId, tenderlyBaseUrl, tenderlyUser, tenderlyProject, tenderlyAccessKey, v2PoolProvider, v3PoolProvider, provider, overrideEstimateMultiplier) {\n    super(provider, chainId);\n    this.tenderlyBaseUrl = tenderlyBaseUrl;\n    this.tenderlyUser = tenderlyUser;\n    this.tenderlyProject = tenderlyProject;\n    this.tenderlyAccessKey = tenderlyAccessKey;\n    this.v2PoolProvider = v2PoolProvider;\n    this.v3PoolProvider = v3PoolProvider;\n    this.overrideEstimateMultiplier = overrideEstimateMultiplier !== null && overrideEstimateMultiplier !== void 0 ? overrideEstimateMultiplier : {};\n  }\n  async simulateTransaction(fromAddress, swapOptions, swapRoute, l2GasData, providerConfig) {\n    var _a;\n    const currencyIn = swapRoute.trade.inputAmount.currency;\n    const tokenIn = currencyIn.wrapped;\n    const chainId = this.chainId;\n    if ([ChainId.CELO, ChainId.CELO_ALFAJORES].includes(chainId)) {\n      const msg = 'Celo not supported by Tenderly!';\n      log.info(msg);\n      return {\n        ...swapRoute,\n        simulationStatus: SimulationStatus.NotSupported\n      };\n    }\n    if (!swapRoute.methodParameters) {\n      const msg = 'No calldata provided to simulate transaction';\n      log.info(msg);\n      throw new Error(msg);\n    }\n    const {\n      calldata\n    } = swapRoute.methodParameters;\n    log.info({\n      calldata: swapRoute.methodParameters.calldata,\n      fromAddress: fromAddress,\n      chainId: chainId,\n      tokenInAddress: tokenIn.address,\n      router: swapOptions.type\n    }, 'Simulating transaction on Tenderly');\n    const blockNumber = await (providerConfig === null || providerConfig === void 0 ? void 0 : providerConfig.blockNumber);\n    let estimatedGasUsed;\n    const estimateMultiplier = (_a = this.overrideEstimateMultiplier[chainId]) !== null && _a !== void 0 ? _a : DEFAULT_ESTIMATE_MULTIPLIER;\n    if (swapOptions.type == SwapType.UNIVERSAL_ROUTER) {\n      // Do initial onboarding approval of Permit2.\n      const erc20Interface = Erc20__factory.createInterface();\n      const approvePermit2Calldata = erc20Interface.encodeFunctionData('approve', [PERMIT2_ADDRESS, MaxUint256]);\n      // We are unsure if the users calldata contains a permit or not. We just\n      // max approve the Univeral Router from Permit2 instead, which will cover both cases.\n      const permit2Interface = Permit2__factory.createInterface();\n      const approveUniversalRouterCallData = permit2Interface.encodeFunctionData('approve', [tokenIn.address, UNIVERSAL_ROUTER_ADDRESS(this.chainId), MAX_UINT160, Math.floor(new Date().getTime() / 1000) + 10000000]);\n      const approvePermit2 = {\n        network_id: chainId,\n        gas_estimate: true,\n        input: approvePermit2Calldata,\n        to: tokenIn.address,\n        value: '0',\n        from: fromAddress\n      };\n      const approveUniversalRouter = {\n        network_id: chainId,\n        gas_estimate: true,\n        input: approveUniversalRouterCallData,\n        to: PERMIT2_ADDRESS,\n        value: '0',\n        from: fromAddress\n      };\n      const swap = {\n        network_id: chainId,\n        input: calldata,\n        gas_estimate: true,\n        to: UNIVERSAL_ROUTER_ADDRESS(this.chainId),\n        value: currencyIn.isNative ? swapRoute.methodParameters.value : '0',\n        from: fromAddress,\n        // TODO: This is a Temporary fix given by Tenderly team, remove once resolved on their end.\n        block_number: chainId == ChainId.ARBITRUM_ONE && blockNumber ? blockNumber - 5 : undefined\n      };\n      const body = {\n        simulations: [approvePermit2, approveUniversalRouter, swap],\n        gas_estimate: true\n      };\n      const opts = {\n        headers: {\n          'X-Access-Key': this.tenderlyAccessKey\n        }\n      };\n      const url = TENDERLY_BATCH_SIMULATE_API(this.tenderlyBaseUrl, this.tenderlyUser, this.tenderlyProject);\n      const resp = (await axios.post(url, body, opts)).data;\n      // Validate tenderly response body\n      if (!resp || resp.simulation_results.length < 3 || !resp.simulation_results[2].transaction || resp.simulation_results[2].transaction.error_message) {\n        this.logTenderlyErrorResponse(resp);\n        return {\n          ...swapRoute,\n          simulationStatus: SimulationStatus.Failed\n        };\n      }\n      // Parse the gas used in the simulation response object, and then pad it so that we overestimate.\n      estimatedGasUsed = BigNumber.from((resp.simulation_results[2].transaction.gas_used * estimateMultiplier).toFixed(0));\n      log.info({\n        body,\n        approvePermit2GasUsed: resp.simulation_results[0].transaction.gas_used,\n        approveUniversalRouterGasUsed: resp.simulation_results[1].transaction.gas_used,\n        swapGasUsed: resp.simulation_results[2].transaction.gas_used,\n        swapWithMultiplier: estimatedGasUsed.toString()\n      }, 'Successfully Simulated Approvals + Swap via Tenderly for Universal Router. Gas used.');\n      log.info({\n        swapTransaction: resp.simulation_results[2].transaction\n      }, 'Successful Tenderly Swap Transaction for Universal Router');\n      log.info({\n        swapSimulation: resp.simulation_results[2].simulation\n      }, 'Successful Tenderly Swap Simulation for Universal Router');\n    } else if (swapOptions.type == SwapType.SWAP_ROUTER_02) {\n      const approve = {\n        network_id: chainId,\n        input: APPROVE_TOKEN_FOR_TRANSFER,\n        gas_estimate: true,\n        to: tokenIn.address,\n        value: '0',\n        from: fromAddress\n      };\n      const swap = {\n        network_id: chainId,\n        input: calldata,\n        to: SWAP_ROUTER_02_ADDRESSES(chainId),\n        gas_estimate: true,\n        value: currencyIn.isNative ? swapRoute.methodParameters.value : '0',\n        from: fromAddress,\n        // TODO: This is a Temporary fix given by Tenderly team, remove once resolved on their end.\n        block_number: chainId == ChainId.ARBITRUM_ONE && blockNumber ? blockNumber - 5 : undefined\n      };\n      const body = {\n        simulations: [approve, swap]\n      };\n      const opts = {\n        headers: {\n          'X-Access-Key': this.tenderlyAccessKey\n        }\n      };\n      const url = TENDERLY_BATCH_SIMULATE_API(this.tenderlyBaseUrl, this.tenderlyUser, this.tenderlyProject);\n      const resp = (await axios.post(url, body, opts)).data;\n      // Validate tenderly response body\n      if (!resp || resp.simulation_results.length < 2 || !resp.simulation_results[1].transaction || resp.simulation_results[1].transaction.error_message) {\n        const msg = `Failed to Simulate Via Tenderly!: ${resp.simulation_results[1].transaction.error_message}`;\n        log.info({\n          err: resp.simulation_results[1].transaction.error_message\n        }, msg);\n        return {\n          ...swapRoute,\n          simulationStatus: SimulationStatus.Failed\n        };\n      }\n      // Parse the gas used in the simulation response object, and then pad it so that we overestimate.\n      estimatedGasUsed = BigNumber.from((resp.simulation_results[1].transaction.gas_used * estimateMultiplier).toFixed(0));\n      log.info({\n        body,\n        approveGasUsed: resp.simulation_results[0].transaction.gas_used,\n        swapGasUsed: resp.simulation_results[1].transaction.gas_used,\n        swapWithMultiplier: estimatedGasUsed.toString()\n      }, 'Successfully Simulated Approval + Swap via Tenderly for SwapRouter02. Gas used.');\n      log.info({\n        swapTransaction: resp.simulation_results[1].transaction\n      }, 'Successful Tenderly Swap Transaction for SwapRouter02');\n      log.info({\n        swapSimulation: resp.simulation_results[1].simulation\n      }, 'Successful Tenderly Swap Simulation for SwapRouter02');\n    } else {\n      throw new Error(`Unsupported swap type: ${swapOptions}`);\n    }\n    const {\n      estimatedGasUsedUSD,\n      estimatedGasUsedQuoteToken,\n      quoteGasAdjusted\n    } = await calculateGasUsed(chainId, swapRoute, estimatedGasUsed, this.v2PoolProvider, this.v3PoolProvider, l2GasData);\n    return {\n      ...initSwapRouteFromExisting(swapRoute, this.v2PoolProvider, this.v3PoolProvider, quoteGasAdjusted, estimatedGasUsed, estimatedGasUsedQuoteToken, estimatedGasUsedUSD),\n      simulationStatus: SimulationStatus.Succeeded\n    };\n  }\n  logTenderlyErrorResponse(resp) {\n    log.info({\n      resp\n    }, 'Failed to Simulate on Tenderly');\n    log.info({\n      err: resp.simulation_results.length >= 1 ? resp.simulation_results[0].transaction : {}\n    }, 'Failed to Simulate on Tenderly #1 Transaction');\n    log.info({\n      err: resp.simulation_results.length >= 1 ? resp.simulation_results[0].simulation : {}\n    }, 'Failed to Simulate on Tenderly #1 Simulation');\n    log.info({\n      err: resp.simulation_results.length >= 2 ? resp.simulation_results[1].transaction : {}\n    }, 'Failed to Simulate on Tenderly #2 Transaction');\n    log.info({\n      err: resp.simulation_results.length >= 2 ? resp.simulation_results[1].simulation : {}\n    }, 'Failed to Simulate on Tenderly #2 Simulation');\n    log.info({\n      err: resp.simulation_results.length >= 3 ? resp.simulation_results[2].transaction : {}\n    }, 'Failed to Simulate on Tenderly #3 Transaction');\n    log.info({\n      err: resp.simulation_results.length >= 3 ? resp.simulation_results[2].simulation : {}\n    }, 'Failed to Simulate on Tenderly #3 Simulation');\n  }\n}","map":{"version":3,"sources":["../../../src/providers/tenderly-simulation-provider.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { MaxUint256 } from '@ethersproject/constants';\nimport { PERMIT2_ADDRESS, UNIVERSAL_ROUTER_ADDRESS, } from '@uniswap/universal-router-sdk';\nimport axios from 'axios';\nimport { BigNumber } from 'ethers/lib/ethers';\nimport { SwapType } from '../routers';\nimport { Erc20__factory } from '../types/other/factories/Erc20__factory';\nimport { Permit2__factory } from '../types/other/factories/Permit2__factory';\nimport { ChainId, log, MAX_UINT160, SWAP_ROUTER_02_ADDRESSES } from '../util';\nimport { APPROVE_TOKEN_FOR_TRANSFER } from '../util/callData';\nimport { calculateGasUsed, initSwapRouteFromExisting, } from '../util/gas-factory-helpers';\nimport { SimulationStatus, Simulator, } from './simulation-provider';\nconst TENDERLY_BATCH_SIMULATE_API = (tenderlyBaseUrl, tenderlyUser, tenderlyProject) => `${tenderlyBaseUrl}/api/v1/account/${tenderlyUser}/project/${tenderlyProject}/simulate-batch`;\n// We multiply tenderly gas limit by this to overestimate gas limit\nconst DEFAULT_ESTIMATE_MULTIPLIER = 1.25;\nexport class FallbackTenderlySimulator extends Simulator {\n    constructor(chainId, provider, tenderlySimulator, ethEstimateGasSimulator) {\n        super(provider, chainId);\n        this.tenderlySimulator = tenderlySimulator;\n        this.ethEstimateGasSimulator = ethEstimateGasSimulator;\n    }\n    async simulateTransaction(fromAddress, swapOptions, swapRoute, l2GasData, providerConfig) {\n        // Make call to eth estimate gas if possible\n        // For erc20s, we must check if the token allowance is sufficient\n        const inputAmount = swapRoute.trade.inputAmount;\n        if (inputAmount.currency.isNative ||\n            (await this.checkTokenApproved(fromAddress, inputAmount, swapOptions, this.provider))) {\n            log.info('Simulating with eth_estimateGas since token is native or approved.');\n            try {\n                const swapRouteWithGasEstimate = await this.ethEstimateGasSimulator.ethEstimateGas(fromAddress, swapOptions, swapRoute, l2GasData);\n                return swapRouteWithGasEstimate;\n            }\n            catch (err) {\n                log.info({ err: err }, 'Error simulating using eth_estimateGas');\n                return { ...swapRoute, simulationStatus: SimulationStatus.Failed };\n            }\n        }\n        try {\n            return await this.tenderlySimulator.simulateTransaction(fromAddress, swapOptions, swapRoute, l2GasData, providerConfig);\n        }\n        catch (err) {\n            log.info({ err: err }, 'Failed to simulate via Tenderly');\n            return { ...swapRoute, simulationStatus: SimulationStatus.Failed };\n        }\n    }\n}\nexport class TenderlySimulator extends Simulator {\n    constructor(chainId, tenderlyBaseUrl, tenderlyUser, tenderlyProject, tenderlyAccessKey, v2PoolProvider, v3PoolProvider, provider, overrideEstimateMultiplier) {\n        super(provider, chainId);\n        this.tenderlyBaseUrl = tenderlyBaseUrl;\n        this.tenderlyUser = tenderlyUser;\n        this.tenderlyProject = tenderlyProject;\n        this.tenderlyAccessKey = tenderlyAccessKey;\n        this.v2PoolProvider = v2PoolProvider;\n        this.v3PoolProvider = v3PoolProvider;\n        this.overrideEstimateMultiplier = overrideEstimateMultiplier !== null && overrideEstimateMultiplier !== void 0 ? overrideEstimateMultiplier : {};\n    }\n    async simulateTransaction(fromAddress, swapOptions, swapRoute, l2GasData, providerConfig) {\n        var _a;\n        const currencyIn = swapRoute.trade.inputAmount.currency;\n        const tokenIn = currencyIn.wrapped;\n        const chainId = this.chainId;\n        if ([ChainId.CELO, ChainId.CELO_ALFAJORES].includes(chainId)) {\n            const msg = 'Celo not supported by Tenderly!';\n            log.info(msg);\n            return { ...swapRoute, simulationStatus: SimulationStatus.NotSupported };\n        }\n        if (!swapRoute.methodParameters) {\n            const msg = 'No calldata provided to simulate transaction';\n            log.info(msg);\n            throw new Error(msg);\n        }\n        const { calldata } = swapRoute.methodParameters;\n        log.info({\n            calldata: swapRoute.methodParameters.calldata,\n            fromAddress: fromAddress,\n            chainId: chainId,\n            tokenInAddress: tokenIn.address,\n            router: swapOptions.type,\n        }, 'Simulating transaction on Tenderly');\n        const blockNumber = await (providerConfig === null || providerConfig === void 0 ? void 0 : providerConfig.blockNumber);\n        let estimatedGasUsed;\n        const estimateMultiplier = (_a = this.overrideEstimateMultiplier[chainId]) !== null && _a !== void 0 ? _a : DEFAULT_ESTIMATE_MULTIPLIER;\n        if (swapOptions.type == SwapType.UNIVERSAL_ROUTER) {\n            // Do initial onboarding approval of Permit2.\n            const erc20Interface = Erc20__factory.createInterface();\n            const approvePermit2Calldata = erc20Interface.encodeFunctionData('approve', [PERMIT2_ADDRESS, MaxUint256]);\n            // We are unsure if the users calldata contains a permit or not. We just\n            // max approve the Univeral Router from Permit2 instead, which will cover both cases.\n            const permit2Interface = Permit2__factory.createInterface();\n            const approveUniversalRouterCallData = permit2Interface.encodeFunctionData('approve', [\n                tokenIn.address,\n                UNIVERSAL_ROUTER_ADDRESS(this.chainId),\n                MAX_UINT160,\n                Math.floor(new Date().getTime() / 1000) + 10000000,\n            ]);\n            const approvePermit2 = {\n                network_id: chainId,\n                gas_estimate: true,\n                input: approvePermit2Calldata,\n                to: tokenIn.address,\n                value: '0',\n                from: fromAddress,\n            };\n            const approveUniversalRouter = {\n                network_id: chainId,\n                gas_estimate: true,\n                input: approveUniversalRouterCallData,\n                to: PERMIT2_ADDRESS,\n                value: '0',\n                from: fromAddress,\n            };\n            const swap = {\n                network_id: chainId,\n                input: calldata,\n                gas_estimate: true,\n                to: UNIVERSAL_ROUTER_ADDRESS(this.chainId),\n                value: currencyIn.isNative ? swapRoute.methodParameters.value : '0',\n                from: fromAddress,\n                // TODO: This is a Temporary fix given by Tenderly team, remove once resolved on their end.\n                block_number: chainId == ChainId.ARBITRUM_ONE && blockNumber\n                    ? blockNumber - 5\n                    : undefined,\n            };\n            const body = {\n                simulations: [approvePermit2, approveUniversalRouter, swap],\n                gas_estimate: true,\n            };\n            const opts = {\n                headers: {\n                    'X-Access-Key': this.tenderlyAccessKey,\n                },\n            };\n            const url = TENDERLY_BATCH_SIMULATE_API(this.tenderlyBaseUrl, this.tenderlyUser, this.tenderlyProject);\n            const resp = (await axios.post(url, body, opts)).data;\n            // Validate tenderly response body\n            if (!resp ||\n                resp.simulation_results.length < 3 ||\n                !resp.simulation_results[2].transaction ||\n                resp.simulation_results[2].transaction.error_message) {\n                this.logTenderlyErrorResponse(resp);\n                return { ...swapRoute, simulationStatus: SimulationStatus.Failed };\n            }\n            // Parse the gas used in the simulation response object, and then pad it so that we overestimate.\n            estimatedGasUsed = BigNumber.from((resp.simulation_results[2].transaction.gas_used * estimateMultiplier).toFixed(0));\n            log.info({\n                body,\n                approvePermit2GasUsed: resp.simulation_results[0].transaction.gas_used,\n                approveUniversalRouterGasUsed: resp.simulation_results[1].transaction.gas_used,\n                swapGasUsed: resp.simulation_results[2].transaction.gas_used,\n                swapWithMultiplier: estimatedGasUsed.toString(),\n            }, 'Successfully Simulated Approvals + Swap via Tenderly for Universal Router. Gas used.');\n            log.info({ swapTransaction: resp.simulation_results[2].transaction }, 'Successful Tenderly Swap Transaction for Universal Router');\n            log.info({ swapSimulation: resp.simulation_results[2].simulation }, 'Successful Tenderly Swap Simulation for Universal Router');\n        }\n        else if (swapOptions.type == SwapType.SWAP_ROUTER_02) {\n            const approve = {\n                network_id: chainId,\n                input: APPROVE_TOKEN_FOR_TRANSFER,\n                gas_estimate: true,\n                to: tokenIn.address,\n                value: '0',\n                from: fromAddress,\n            };\n            const swap = {\n                network_id: chainId,\n                input: calldata,\n                to: SWAP_ROUTER_02_ADDRESSES(chainId),\n                gas_estimate: true,\n                value: currencyIn.isNative ? swapRoute.methodParameters.value : '0',\n                from: fromAddress,\n                // TODO: This is a Temporary fix given by Tenderly team, remove once resolved on their end.\n                block_number: chainId == ChainId.ARBITRUM_ONE && blockNumber\n                    ? blockNumber - 5\n                    : undefined,\n            };\n            const body = { simulations: [approve, swap] };\n            const opts = {\n                headers: {\n                    'X-Access-Key': this.tenderlyAccessKey,\n                },\n            };\n            const url = TENDERLY_BATCH_SIMULATE_API(this.tenderlyBaseUrl, this.tenderlyUser, this.tenderlyProject);\n            const resp = (await axios.post(url, body, opts)).data;\n            // Validate tenderly response body\n            if (!resp ||\n                resp.simulation_results.length < 2 ||\n                !resp.simulation_results[1].transaction ||\n                resp.simulation_results[1].transaction.error_message) {\n                const msg = `Failed to Simulate Via Tenderly!: ${resp.simulation_results[1].transaction.error_message}`;\n                log.info({ err: resp.simulation_results[1].transaction.error_message }, msg);\n                return { ...swapRoute, simulationStatus: SimulationStatus.Failed };\n            }\n            // Parse the gas used in the simulation response object, and then pad it so that we overestimate.\n            estimatedGasUsed = BigNumber.from((resp.simulation_results[1].transaction.gas_used * estimateMultiplier).toFixed(0));\n            log.info({\n                body,\n                approveGasUsed: resp.simulation_results[0].transaction.gas_used,\n                swapGasUsed: resp.simulation_results[1].transaction.gas_used,\n                swapWithMultiplier: estimatedGasUsed.toString(),\n            }, 'Successfully Simulated Approval + Swap via Tenderly for SwapRouter02. Gas used.');\n            log.info({ swapTransaction: resp.simulation_results[1].transaction }, 'Successful Tenderly Swap Transaction for SwapRouter02');\n            log.info({ swapSimulation: resp.simulation_results[1].simulation }, 'Successful Tenderly Swap Simulation for SwapRouter02');\n        }\n        else {\n            throw new Error(`Unsupported swap type: ${swapOptions}`);\n        }\n        const { estimatedGasUsedUSD, estimatedGasUsedQuoteToken, quoteGasAdjusted, } = await calculateGasUsed(chainId, swapRoute, estimatedGasUsed, this.v2PoolProvider, this.v3PoolProvider, l2GasData);\n        return {\n            ...initSwapRouteFromExisting(swapRoute, this.v2PoolProvider, this.v3PoolProvider, quoteGasAdjusted, estimatedGasUsed, estimatedGasUsedQuoteToken, estimatedGasUsedUSD),\n            simulationStatus: SimulationStatus.Succeeded,\n        };\n    }\n    logTenderlyErrorResponse(resp) {\n        log.info({\n            resp,\n        }, 'Failed to Simulate on Tenderly');\n        log.info({\n            err: resp.simulation_results.length >= 1\n                ? resp.simulation_results[0].transaction\n                : {},\n        }, 'Failed to Simulate on Tenderly #1 Transaction');\n        log.info({\n            err: resp.simulation_results.length >= 1\n                ? resp.simulation_results[0].simulation\n                : {},\n        }, 'Failed to Simulate on Tenderly #1 Simulation');\n        log.info({\n            err: resp.simulation_results.length >= 2\n                ? resp.simulation_results[1].transaction\n                : {},\n        }, 'Failed to Simulate on Tenderly #2 Transaction');\n        log.info({\n            err: resp.simulation_results.length >= 2\n                ? resp.simulation_results[1].simulation\n                : {},\n        }, 'Failed to Simulate on Tenderly #2 Simulation');\n        log.info({\n            err: resp.simulation_results.length >= 3\n                ? resp.simulation_results[2].transaction\n                : {},\n        }, 'Failed to Simulate on Tenderly #3 Transaction');\n        log.info({\n            err: resp.simulation_results.length >= 3\n                ? resp.simulation_results[2].simulation\n                : {},\n        }, 'Failed to Simulate on Tenderly #3 Simulation');\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVuZGVybHktc2ltdWxhdGlvbi1wcm92aWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9wcm92aWRlcnMvdGVuZGVybHktc2ltdWxhdGlvbi1wcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFFdEQsT0FBTyxFQUNMLGVBQWUsRUFDZix3QkFBd0IsR0FDekIsTUFBTSwrQkFBK0IsQ0FBQztBQUN2QyxPQUFPLEtBQUssTUFBTSxPQUFPLENBQUM7QUFDMUIsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRTlDLE9BQU8sRUFBMEIsUUFBUSxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQzlELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSx5Q0FBeUMsQ0FBQztBQUN6RSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSwyQ0FBMkMsQ0FBQztBQUM3RSxPQUFPLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFDOUUsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDOUQsT0FBTyxFQUNMLGdCQUFnQixFQUNoQix5QkFBeUIsR0FDMUIsTUFBTSw2QkFBNkIsQ0FBQztBQUlyQyxPQUFPLEVBRUwsZ0JBQWdCLEVBQ2hCLFNBQVMsR0FDVixNQUFNLHVCQUF1QixDQUFDO0FBdUIvQixNQUFNLDJCQUEyQixHQUFHLENBQ2xDLGVBQXVCLEVBQ3ZCLFlBQW9CLEVBQ3BCLGVBQXVCLEVBQ3ZCLEVBQUUsQ0FDRixHQUFHLGVBQWUsbUJBQW1CLFlBQVksWUFBWSxlQUFlLGlCQUFpQixDQUFDO0FBRWhHLG1FQUFtRTtBQUNuRSxNQUFNLDJCQUEyQixHQUFHLElBQUksQ0FBQztBQUV6QyxNQUFNLE9BQU8seUJBQTBCLFNBQVEsU0FBUztJQUd0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"]},"metadata":{},"sourceType":"module"}