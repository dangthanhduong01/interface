{"ast":null,"code":"import { BigNumber } from '@ethersproject/bignumber';\nimport { formatEther } from '@ethersproject/units';\nimport { parseEther } from 'ethers/lib/utils';\nimport { formatEth } from './currency';\nexport const buildActivityAsset = (event, collectionName, ethPriceInUSD, isNftGraphqlEnabled) => {\n  var _event$tokenMetadata, _event$tokenMetadata2, _event$tokenMetadata3, _event$tokenMetadata4, _event$tokenMetadata5;\n  const assetUsdPrice = event.price ? isNftGraphqlEnabled ? formatEth(parseFloat(event.price) * ethPriceInUSD) : formatEther(BigNumber.from(event.price).mul(BigNumber.from(Math.trunc(ethPriceInUSD * 100))).div(100)) : '0';\n  const weiPrice = isNftGraphqlEnabled ? event.price ? parseEther(event.price) : '' : event.price;\n  return {\n    address: event.collectionAddress,\n    collectionName,\n    imageUrl: (_event$tokenMetadata = event.tokenMetadata) === null || _event$tokenMetadata === void 0 ? void 0 : _event$tokenMetadata.imageUrl,\n    marketplace: event.marketplace,\n    name: (_event$tokenMetadata2 = event.tokenMetadata) === null || _event$tokenMetadata2 === void 0 ? void 0 : _event$tokenMetadata2.name,\n    tokenId: event.tokenId,\n    susFlag: (_event$tokenMetadata3 = event.tokenMetadata) === null || _event$tokenMetadata3 === void 0 ? void 0 : _event$tokenMetadata3.suspiciousFlag,\n    smallImageUrl: (_event$tokenMetadata4 = event.tokenMetadata) === null || _event$tokenMetadata4 === void 0 ? void 0 : _event$tokenMetadata4.smallImageUrl,\n    collectionSymbol: event.symbol,\n    priceInfo: {\n      USDPrice: assetUsdPrice,\n      ETHPrice: weiPrice,\n      basePrice: weiPrice,\n      baseAsset: 'ETH'\n    },\n    tokenType: (_event$tokenMetadata5 = event.tokenMetadata) === null || _event$tokenMetadata5 === void 0 ? void 0 : _event$tokenMetadata5.standard\n  };\n};","map":{"version":3,"names":["BigNumber","formatEther","parseEther","formatEth","buildActivityAsset","event","collectionName","ethPriceInUSD","isNftGraphqlEnabled","assetUsdPrice","price","parseFloat","from","mul","Math","trunc","div","weiPrice","address","collectionAddress","imageUrl","tokenMetadata","marketplace","name","tokenId","susFlag","suspiciousFlag","smallImageUrl","collectionSymbol","symbol","priceInfo","USDPrice","ETHPrice","basePrice","baseAsset","tokenType","standard"],"sources":["/home/diep/freelance/interface/src/nft/utils/buildActivityAsset.ts"],"sourcesContent":["import { BigNumber } from '@ethersproject/bignumber'\nimport { formatEther } from '@ethersproject/units'\nimport { parseEther } from 'ethers/lib/utils'\nimport { ActivityEvent, GenieAsset } from 'nft/types'\n\nimport { formatEth } from './currency'\n\nexport const buildActivityAsset = (\n  event: ActivityEvent,\n  collectionName: string,\n  ethPriceInUSD: number,\n  isNftGraphqlEnabled: boolean\n): GenieAsset => {\n  const assetUsdPrice = event.price\n    ? isNftGraphqlEnabled\n      ? formatEth(parseFloat(event.price) * ethPriceInUSD)\n      : formatEther(\n          BigNumber.from(event.price)\n            .mul(BigNumber.from(Math.trunc(ethPriceInUSD * 100)))\n            .div(100)\n        )\n    : '0'\n\n  const weiPrice = isNftGraphqlEnabled ? (event.price ? parseEther(event.price) : '') : event.price\n\n  return {\n    address: event.collectionAddress,\n    collectionName,\n    imageUrl: event.tokenMetadata?.imageUrl,\n    marketplace: event.marketplace,\n    name: event.tokenMetadata?.name,\n    tokenId: event.tokenId,\n    susFlag: event.tokenMetadata?.suspiciousFlag,\n    smallImageUrl: event.tokenMetadata?.smallImageUrl,\n    collectionSymbol: event.symbol,\n    priceInfo: {\n      USDPrice: assetUsdPrice,\n      ETHPrice: weiPrice,\n      basePrice: weiPrice,\n      baseAsset: 'ETH',\n    },\n    tokenType: event.tokenMetadata?.standard,\n  } as GenieAsset\n}\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,0BAA0B;AACpD,SAASC,WAAW,QAAQ,sBAAsB;AAClD,SAASC,UAAU,QAAQ,kBAAkB;AAG7C,SAASC,SAAS,QAAQ,YAAY;AAEtC,OAAO,MAAMC,kBAAkB,GAAG,CAChCC,KAAoB,EACpBC,cAAsB,EACtBC,aAAqB,EACrBC,mBAA4B,KACb;EAAA;EACf,MAAMC,aAAa,GAAGJ,KAAK,CAACK,KAAK,GAC7BF,mBAAmB,GACjBL,SAAS,CAACQ,UAAU,CAACN,KAAK,CAACK,KAAK,CAAC,GAAGH,aAAa,CAAC,GAClDN,WAAW,CACTD,SAAS,CAACY,IAAI,CAACP,KAAK,CAACK,KAAK,CAAC,CACxBG,GAAG,CAACb,SAAS,CAACY,IAAI,CAACE,IAAI,CAACC,KAAK,CAACR,aAAa,GAAG,GAAG,CAAC,CAAC,CAAC,CACpDS,GAAG,CAAC,GAAG,CAAC,CACZ,GACH,GAAG;EAEP,MAAMC,QAAQ,GAAGT,mBAAmB,GAAIH,KAAK,CAACK,KAAK,GAAGR,UAAU,CAACG,KAAK,CAACK,KAAK,CAAC,GAAG,EAAE,GAAIL,KAAK,CAACK,KAAK;EAEjG,OAAO;IACLQ,OAAO,EAAEb,KAAK,CAACc,iBAAiB;IAChCb,cAAc;IACdc,QAAQ,0BAAEf,KAAK,CAACgB,aAAa,yDAAnB,qBAAqBD,QAAQ;IACvCE,WAAW,EAAEjB,KAAK,CAACiB,WAAW;IAC9BC,IAAI,2BAAElB,KAAK,CAACgB,aAAa,0DAAnB,sBAAqBE,IAAI;IAC/BC,OAAO,EAAEnB,KAAK,CAACmB,OAAO;IACtBC,OAAO,2BAAEpB,KAAK,CAACgB,aAAa,0DAAnB,sBAAqBK,cAAc;IAC5CC,aAAa,2BAAEtB,KAAK,CAACgB,aAAa,0DAAnB,sBAAqBM,aAAa;IACjDC,gBAAgB,EAAEvB,KAAK,CAACwB,MAAM;IAC9BC,SAAS,EAAE;MACTC,QAAQ,EAAEtB,aAAa;MACvBuB,QAAQ,EAAEf,QAAQ;MAClBgB,SAAS,EAAEhB,QAAQ;MACnBiB,SAAS,EAAE;IACb,CAAC;IACDC,SAAS,2BAAE9B,KAAK,CAACgB,aAAa,0DAAnB,sBAAqBe;EAClC,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module"}