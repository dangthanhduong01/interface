{"ast":null,"code":"import _styled from \"styled-components\";\nvar _jsxFileName = \"/home/diep/freelance/interface/src/components/AccountDrawer/MiniPortfolio/Pools/index.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { i18n } from \"@lingui/core\";\nimport { TraceEvent } from '@uniswap/analytics';\nimport { BrowserEvent, InterfaceElementName, SharedEventName } from '@uniswap/analytics-events';\nimport { formatNumber, NumberType } from '@uniswap/conedison/format';\nimport { useWeb3React } from '@web3-react/core';\nimport { useToggleAccountDrawer } from 'components/AccountDrawer';\nimport Row from 'components/Row';\nimport { MouseoverTooltip } from 'components/Tooltip';\nimport { useFilterPossiblyMaliciousPositions } from 'hooks/useFilterPossiblyMaliciousPositions';\nimport { EmptyWalletModule } from 'nft/components/profile/view/EmptyWalletContent';\nimport { useCallback, useMemo, useReducer } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ThemedText } from 'theme';\nimport { switchChain } from 'utils/switchChain';\nimport { ExpandoRow } from '../ExpandoRow';\nimport { PortfolioLogo } from '../PortfolioLogo';\nimport PortfolioRow, { PortfolioSkeleton, PortfolioTabWrapper } from '../PortfolioRow';\nimport { useFeeValues } from './hooks';\nimport useMultiChainPositions from './useMultiChainPositions';\n\n/*\n  This hook takes an array of PositionInfo objects (format used by the Uniswap Labs gql API).\n  The hook access PositionInfo.details (format used by the NFT position contract),\n  filters the PositionDetails data for malicious content,\n  and then returns the original data in its original format. \n*/\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction useFilterPossiblyMaliciousPositionInfo(positions) {\n  _s();\n  const tokenIdsToPositionInfo = useMemo(() => positions ? positions.reduce((acc, position) => ({\n    ...acc,\n    [position.details.tokenId.toString()]: position\n  }), {}) : {}, [positions]);\n  const positionDetails = useMemo(() => {\n    var _positions$map;\n    return (_positions$map = positions === null || positions === void 0 ? void 0 : positions.map(position => position.details)) !== null && _positions$map !== void 0 ? _positions$map : [];\n  }, [positions]);\n  const filteredPositionDetails = useFilterPossiblyMaliciousPositions(positionDetails);\n  return useMemo(() => filteredPositionDetails.map(positionDetails => tokenIdsToPositionInfo[positionDetails.tokenId.toString()]), [filteredPositionDetails, tokenIdsToPositionInfo]);\n}\n_s(useFilterPossiblyMaliciousPositionInfo, \"CIizRkaCuHcydWQLrGx9gvna6DQ=\", false, function () {\n  return [useFilterPossiblyMaliciousPositions];\n});\nexport default function Pools(_ref) {\n  _s2();\n  let {\n    account\n  } = _ref;\n  const {\n    positions,\n    loading\n  } = useMultiChainPositions(account);\n  const filteredPositions = useFilterPossiblyMaliciousPositionInfo(positions);\n  const [showClosed, toggleShowClosed] = useReducer(showClosed => !showClosed, false);\n  const [openPositions, closedPositions] = useMemo(() => {\n    const openPositions = [];\n    const closedPositions = [];\n    for (let i = 0; i < filteredPositions.length; i++) {\n      const position = filteredPositions[i];\n      if (position.closed) {\n        closedPositions.push(position);\n      } else {\n        openPositions.push(position);\n      }\n    }\n    return [openPositions, closedPositions];\n  }, [filteredPositions]);\n  const toggleWalletDrawer = useToggleAccountDrawer();\n  if (!filteredPositions || loading) {\n    return /*#__PURE__*/_jsxDEV(PortfolioSkeleton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 12\n    }, this);\n  }\n  if (filteredPositions.length === 0) {\n    return /*#__PURE__*/_jsxDEV(EmptyWalletModule, {\n      type: \"pool\",\n      onNavigateClick: toggleWalletDrawer\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(PortfolioTabWrapper, {\n    children: [openPositions.map(positionInfo => /*#__PURE__*/_jsxDEV(PositionListItem, {\n      positionInfo: positionInfo\n    }, positionInfo.details.tokenId.toString() + positionInfo.chainId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(ExpandoRow, {\n      title: /*i18n*/i18n._(\"Closed Positions\"),\n      isExpanded: showClosed,\n      toggle: toggleShowClosed,\n      numItems: closedPositions.length,\n      children: closedPositions.map(positionInfo => /*#__PURE__*/_jsxDEV(PositionListItem, {\n        positionInfo: positionInfo\n      }, positionInfo.details.tokenId.toString() + positionInfo.chainId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_s2(Pools, \"ElnmGbPosgWK1tyhHRA3/fz0bAo=\", false, function () {\n  return [useMultiChainPositions, useFilterPossiblyMaliciousPositionInfo, useToggleAccountDrawer];\n});\n_c = Pools;\nconst ActiveDot = _styled.span.withConfig({\n  displayName: \"Pools__ActiveDot\",\n  componentId: \"sc-foi3x-0\"\n})([\"background-color:\", \";border-radius:50%;height:8px;width:8px;margin-left:4px;margin-top:1px;\"], _ref2 => {\n  let {\n    theme,\n    closed,\n    outOfRange\n  } = _ref2;\n  return closed ? theme.textSecondary : outOfRange ? theme.accentWarning : theme.accentSuccess;\n});\nfunction calculcateLiquidityValue(price0, price1, position) {\n  if (!price0 || !price1) return undefined;\n  const value0 = parseFloat(position.amount0.toExact()) * price0;\n  const value1 = parseFloat(position.amount1.toExact()) * price1;\n  return value0 + value1;\n}\nfunction PositionListItem(_ref3) {\n  _s3();\n  var _pool$token;\n  let {\n    positionInfo\n  } = _ref3;\n  const {\n    chainId,\n    position,\n    pool,\n    details,\n    inRange,\n    closed\n  } = positionInfo;\n  const {\n    priceA,\n    priceB,\n    fees: feeValue\n  } = useFeeValues(positionInfo);\n  const liquidityValue = calculcateLiquidityValue(priceA, priceB, position);\n  const navigate = useNavigate();\n  const toggleWalletDrawer = useToggleAccountDrawer();\n  const {\n    chainId: walletChainId,\n    connector\n  } = useWeb3React();\n  const onClick = useCallback(async () => {\n    if (walletChainId !== chainId) await switchChain(connector, chainId);\n    toggleWalletDrawer();\n    navigate('/pool/' + details.tokenId);\n  }, [walletChainId, chainId, connector, toggleWalletDrawer, navigate, details.tokenId]);\n  const analyticsEventProperties = useMemo(() => ({\n    chain_id: chainId,\n    pool_token_0_symbol: pool.token0.symbol,\n    pool_token_1_symbol: pool.token1.symbol,\n    pool_token_0_address: pool.token0.address,\n    pool_token_1_address: pool.token1.address\n  }), [chainId, pool.token0.address, pool.token0.symbol, pool.token1.address, pool.token1.symbol]);\n  return /*#__PURE__*/_jsxDEV(TraceEvent, {\n    events: [BrowserEvent.onClick],\n    name: SharedEventName.ELEMENT_CLICKED,\n    element: InterfaceElementName.MINI_PORTFOLIO_POOLS_ROW,\n    properties: analyticsEventProperties,\n    children: /*#__PURE__*/_jsxDEV(PortfolioRow, {\n      onClick: onClick,\n      left: /*#__PURE__*/_jsxDEV(PortfolioLogo, {\n        chainId: chainId,\n        currencies: [pool.token0, pool.token1]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }, this),\n      title: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(ThemedText.SubHeader, {\n          fontWeight: 500,\n          children: [pool.token0.symbol, \" / \", (_pool$token = pool.token1) === null || _pool$token === void 0 ? void 0 : _pool$token.symbol]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this),\n      descriptor: /*#__PURE__*/_jsxDEV(ThemedText.Caption, {\n        children: `${pool.fee / 10000}%`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }, this),\n      right: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(MouseoverTooltip, {\n          placement: \"left\",\n          text: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '4px 0px'\n            },\n            children: /*#__PURE__*/_jsxDEV(ThemedText.Caption, {\n              children: `${formatNumber(liquidityValue, NumberType.PortfolioBalance)} (liquidity) + ${formatNumber(feeValue, NumberType.PortfolioBalance)} (fees)`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 17\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(ThemedText.SubHeader, {\n            fontWeight: 500,\n            children: formatNumber((liquidityValue !== null && liquidityValue !== void 0 ? liquidityValue : 0) + (feeValue !== null && feeValue !== void 0 ? feeValue : 0), NumberType.PortfolioBalance)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          justify: \"flex-end\",\n          children: [/*#__PURE__*/_jsxDEV(ThemedText.Caption, {\n            color: \"textSecondary\",\n            children: closed ? /*i18n*/i18n._(\"Closed\") : inRange ? /*i18n*/i18n._(\"In range\") : /*i18n*/i18n._(\"Out of range\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ActiveDot, {\n            closed: closed,\n            outOfRange: !inRange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n}\n_s3(PositionListItem, \"EeyCGf2lhAAIREerDPlQSo1FhPc=\", false, function () {\n  return [useFeeValues, useNavigate, useToggleAccountDrawer, useWeb3React];\n});\n_c2 = PositionListItem;\nvar _c, _c2;\n$RefreshReg$(_c, \"Pools\");\n$RefreshReg$(_c2, \"PositionListItem\");","map":{"version":3,"names":["TraceEvent","BrowserEvent","InterfaceElementName","SharedEventName","formatNumber","NumberType","useWeb3React","useToggleAccountDrawer","Row","MouseoverTooltip","useFilterPossiblyMaliciousPositions","EmptyWalletModule","useCallback","useMemo","useReducer","useNavigate","ThemedText","switchChain","ExpandoRow","PortfolioLogo","PortfolioRow","PortfolioSkeleton","PortfolioTabWrapper","useFeeValues","useMultiChainPositions","useFilterPossiblyMaliciousPositionInfo","positions","tokenIdsToPositionInfo","reduce","acc","position","details","tokenId","toString","positionDetails","map","filteredPositionDetails","Pools","account","loading","filteredPositions","showClosed","toggleShowClosed","openPositions","closedPositions","i","length","closed","push","toggleWalletDrawer","positionInfo","chainId","ActiveDot","styled","span","theme","outOfRange","textSecondary","accentWarning","accentSuccess","calculcateLiquidityValue","price0","price1","undefined","value0","parseFloat","amount0","toExact","value1","amount1","PositionListItem","pool","inRange","priceA","priceB","fees","feeValue","liquidityValue","navigate","walletChainId","connector","onClick","analyticsEventProperties","chain_id","pool_token_0_symbol","token0","symbol","pool_token_1_symbol","token1","pool_token_0_address","address","pool_token_1_address","ELEMENT_CLICKED","MINI_PORTFOLIO_POOLS_ROW","fee","padding","PortfolioBalance"],"sources":["/home/diep/freelance/interface/src/components/AccountDrawer/MiniPortfolio/Pools/index.tsx"],"sourcesContent":["import { t } from '@lingui/macro'\nimport { TraceEvent } from '@uniswap/analytics'\nimport { BrowserEvent, InterfaceElementName, SharedEventName } from '@uniswap/analytics-events'\nimport { formatNumber, NumberType } from '@uniswap/conedison/format'\nimport { Position } from '@uniswap/v3-sdk'\nimport { useWeb3React } from '@web3-react/core'\nimport { useToggleAccountDrawer } from 'components/AccountDrawer'\nimport Row from 'components/Row'\nimport { MouseoverTooltip } from 'components/Tooltip'\nimport { useFilterPossiblyMaliciousPositions } from 'hooks/useFilterPossiblyMaliciousPositions'\nimport { EmptyWalletModule } from 'nft/components/profile/view/EmptyWalletContent'\nimport { useCallback, useMemo, useReducer } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\nimport { switchChain } from 'utils/switchChain'\n\nimport { ExpandoRow } from '../ExpandoRow'\nimport { PortfolioLogo } from '../PortfolioLogo'\nimport PortfolioRow, { PortfolioSkeleton, PortfolioTabWrapper } from '../PortfolioRow'\nimport { PositionInfo } from './cache'\nimport { useFeeValues } from './hooks'\nimport useMultiChainPositions from './useMultiChainPositions'\n\n/*\n  This hook takes an array of PositionInfo objects (format used by the Uniswap Labs gql API).\n  The hook access PositionInfo.details (format used by the NFT position contract),\n  filters the PositionDetails data for malicious content,\n  and then returns the original data in its original format. \n*/\nfunction useFilterPossiblyMaliciousPositionInfo(positions: PositionInfo[] | undefined): PositionInfo[] {\n  const tokenIdsToPositionInfo: Record<string, PositionInfo> = useMemo(\n    () =>\n      positions\n        ? positions.reduce((acc, position) => ({ ...acc, [position.details.tokenId.toString()]: position }), {})\n        : {},\n    [positions]\n  )\n  const positionDetails = useMemo(() => positions?.map((position) => position.details) ?? [], [positions])\n  const filteredPositionDetails = useFilterPossiblyMaliciousPositions(positionDetails)\n\n  return useMemo(\n    () => filteredPositionDetails.map((positionDetails) => tokenIdsToPositionInfo[positionDetails.tokenId.toString()]),\n    [filteredPositionDetails, tokenIdsToPositionInfo]\n  )\n}\n\nexport default function Pools({ account }: { account: string }) {\n  const { positions, loading } = useMultiChainPositions(account)\n  const filteredPositions = useFilterPossiblyMaliciousPositionInfo(positions)\n  const [showClosed, toggleShowClosed] = useReducer((showClosed) => !showClosed, false)\n\n  const [openPositions, closedPositions] = useMemo(() => {\n    const openPositions: PositionInfo[] = []\n    const closedPositions: PositionInfo[] = []\n    for (let i = 0; i < filteredPositions.length; i++) {\n      const position = filteredPositions[i]\n      if (position.closed) {\n        closedPositions.push(position)\n      } else {\n        openPositions.push(position)\n      }\n    }\n    return [openPositions, closedPositions]\n  }, [filteredPositions])\n\n  const toggleWalletDrawer = useToggleAccountDrawer()\n\n  if (!filteredPositions || loading) {\n    return <PortfolioSkeleton />\n  }\n\n  if (filteredPositions.length === 0) {\n    return <EmptyWalletModule type=\"pool\" onNavigateClick={toggleWalletDrawer} />\n  }\n\n  return (\n    <PortfolioTabWrapper>\n      {openPositions.map((positionInfo) => (\n        <PositionListItem\n          key={positionInfo.details.tokenId.toString() + positionInfo.chainId}\n          positionInfo={positionInfo}\n        />\n      ))}\n      <ExpandoRow\n        title={t`Closed Positions`}\n        isExpanded={showClosed}\n        toggle={toggleShowClosed}\n        numItems={closedPositions.length}\n      >\n        {closedPositions.map((positionInfo) => (\n          <PositionListItem\n            key={positionInfo.details.tokenId.toString() + positionInfo.chainId}\n            positionInfo={positionInfo}\n          />\n        ))}\n      </ExpandoRow>\n    </PortfolioTabWrapper>\n  )\n}\n\nconst ActiveDot = styled.span<{ closed: boolean; outOfRange: boolean }>`\n  background-color: ${({ theme, closed, outOfRange }) =>\n    closed ? theme.textSecondary : outOfRange ? theme.accentWarning : theme.accentSuccess};\n  border-radius: 50%;\n  height: 8px;\n  width: 8px;\n  margin-left: 4px;\n  margin-top: 1px;\n`\n\nfunction calculcateLiquidityValue(price0: number | undefined, price1: number | undefined, position: Position) {\n  if (!price0 || !price1) return undefined\n\n  const value0 = parseFloat(position.amount0.toExact()) * price0\n  const value1 = parseFloat(position.amount1.toExact()) * price1\n  return value0 + value1\n}\n\nfunction PositionListItem({ positionInfo }: { positionInfo: PositionInfo }) {\n  const { chainId, position, pool, details, inRange, closed } = positionInfo\n\n  const { priceA, priceB, fees: feeValue } = useFeeValues(positionInfo)\n  const liquidityValue = calculcateLiquidityValue(priceA, priceB, position)\n\n  const navigate = useNavigate()\n  const toggleWalletDrawer = useToggleAccountDrawer()\n  const { chainId: walletChainId, connector } = useWeb3React()\n  const onClick = useCallback(async () => {\n    if (walletChainId !== chainId) await switchChain(connector, chainId)\n    toggleWalletDrawer()\n    navigate('/pool/' + details.tokenId)\n  }, [walletChainId, chainId, connector, toggleWalletDrawer, navigate, details.tokenId])\n  const analyticsEventProperties = useMemo(\n    () => ({\n      chain_id: chainId,\n      pool_token_0_symbol: pool.token0.symbol,\n      pool_token_1_symbol: pool.token1.symbol,\n      pool_token_0_address: pool.token0.address,\n      pool_token_1_address: pool.token1.address,\n    }),\n    [chainId, pool.token0.address, pool.token0.symbol, pool.token1.address, pool.token1.symbol]\n  )\n\n  return (\n    <TraceEvent\n      events={[BrowserEvent.onClick]}\n      name={SharedEventName.ELEMENT_CLICKED}\n      element={InterfaceElementName.MINI_PORTFOLIO_POOLS_ROW}\n      properties={analyticsEventProperties}\n    >\n      <PortfolioRow\n        onClick={onClick}\n        left={<PortfolioLogo chainId={chainId} currencies={[pool.token0, pool.token1]} />}\n        title={\n          <Row>\n            <ThemedText.SubHeader fontWeight={500}>\n              {pool.token0.symbol} / {pool.token1?.symbol}\n            </ThemedText.SubHeader>\n          </Row>\n        }\n        descriptor={<ThemedText.Caption>{`${pool.fee / 10000}%`}</ThemedText.Caption>}\n        right={\n          <>\n            <MouseoverTooltip\n              placement=\"left\"\n              text={\n                <div style={{ padding: '4px 0px' }}>\n                  <ThemedText.Caption>{`${formatNumber(\n                    liquidityValue,\n                    NumberType.PortfolioBalance\n                  )} (liquidity) + ${formatNumber(feeValue, NumberType.PortfolioBalance)} (fees)`}</ThemedText.Caption>\n                </div>\n              }\n            >\n              <ThemedText.SubHeader fontWeight={500}>\n                {formatNumber((liquidityValue ?? 0) + (feeValue ?? 0), NumberType.PortfolioBalance)}\n              </ThemedText.SubHeader>\n            </MouseoverTooltip>\n\n            <Row justify=\"flex-end\">\n              <ThemedText.Caption color=\"textSecondary\">\n                {closed ? t`Closed` : inRange ? t`In range` : t`Out of range`}\n              </ThemedText.Caption>\n              <ActiveDot closed={closed} outOfRange={!inRange} />\n            </Row>\n          </>\n        }\n      />\n    </TraceEvent>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}