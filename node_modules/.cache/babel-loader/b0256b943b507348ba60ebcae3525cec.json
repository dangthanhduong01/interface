{"ast":null,"code":"export function getRarityStatus(rarityStatusCache, id, assets) {\n  if (rarityStatusCache.has(id)) {\n    return rarityStatusCache.get(id);\n  }\n  const hasRarity = assets && Array.from(assets).reduce((reducer, asset) => !!(reducer || (asset === null || asset === void 0 ? void 0 : asset.rarity)), false);\n  if (hasRarity) {\n    rarityStatusCache.set(id, hasRarity);\n  }\n  return hasRarity;\n}\nexport const getAssetHref = (asset, origin) => {\n  const address = asset.address !== undefined ? asset.address : asset.asset_contract.address;\n  return `/nfts/asset/${address}/${asset.tokenId}${origin ? `?origin=${origin}` : ''}`;\n};\nexport const getMarketplaceIcon = marketplace => {\n  return `/nft/svgs/marketplaces/${marketplace.toLowerCase()}.svg`;\n};\nexport const generateTweetForAsset = asset => {\n  return `https://twitter.com/intent/tweet?text=Check%20out%20${asset.name ? encodeURIComponent(asset.name) : `${asset.collectionName}%20%23${asset.tokenId}`}%20(${asset.collectionName})%20https://app.uniswap.org/%23/nfts/asset/${asset.address}/${asset.tokenId}%20via%20@uniswap`;\n};\nexport const generateTweetForPurchase = (assets, txHashUrl) => {\n  var _assets$0$collectionN;\n  const multipleCollections = assets.length > 0 && assets.some(asset => asset.address !== assets[0].address);\n  const tweetText = `I just purchased ${multipleCollections ? `${assets.length} NFTs` : `${assets.length} ${(_assets$0$collectionN = assets[0].collectionName) !== null && _assets$0$collectionN !== void 0 ? _assets$0$collectionN : 'NFT'}`} with @Uniswap ðŸ¦„\\n\\nhttps://app.uniswap.org/#/nfts/collection/0x60bb1e2aa1c9acafb4d34f71585d7e959f387769\\n${txHashUrl}`;\n  return `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweetText)}`;\n};\nfunction getMinListingPrice(listings) {\n  var _Math$min;\n  return (_Math$min = Math.min(...listings.map(listing => {\n    var _listing$price;\n    return (_listing$price = listing.price) !== null && _listing$price !== void 0 ? _listing$price : 0;\n  }))) !== null && _Math$min !== void 0 ? _Math$min : 0;\n}\nfunction mapAssetsToCollections(assets) {\n  const collections = assets.map(asset => {\n    var _ref, _asset$collection$twi, _asset$collection, _asset$collection2;\n    return (_ref = (_asset$collection$twi = (_asset$collection = asset.collection) === null || _asset$collection === void 0 ? void 0 : _asset$collection.twitterUrl) !== null && _asset$collection$twi !== void 0 ? _asset$collection$twi : (_asset$collection2 = asset.collection) === null || _asset$collection2 === void 0 ? void 0 : _asset$collection2.name) !== null && _ref !== void 0 ? _ref : '';\n  });\n  const uniqueCollections = [...new Set(collections)];\n  return uniqueCollections.map(collection => {\n    return {\n      collection,\n      items: assets.filter(asset => {\n        var _asset$collection3, _asset$collection4;\n        return ((_asset$collection3 = asset.collection) === null || _asset$collection3 === void 0 ? void 0 : _asset$collection3.twitterUrl) === collection || ((_asset$collection4 = asset.collection) === null || _asset$collection4 === void 0 ? void 0 : _asset$collection4.name) === collection;\n      }).map(asset => {\n        var _asset$name;\n        return (_asset$name = asset.name) !== null && _asset$name !== void 0 ? _asset$name : '';\n      })\n    };\n  });\n}\nexport const generateTweetForList = assets => {\n  var _assets$0$collection, _assets$0$collection2, _ref2, _assets$0$collection3, _assets$0$newListings, _assets$0$marketplace, _assets$0$marketplace2;\n  const tweetText = assets.length == 1 ? `I just listed ${((_assets$0$collection = assets[0].collection) === null || _assets$0$collection === void 0 ? void 0 : _assets$0$collection.twitterUrl) ? `${(_assets$0$collection2 = assets[0].collection) === null || _assets$0$collection2 === void 0 ? void 0 : _assets$0$collection2.twitterUrl} ` : (_ref2 = `${(_assets$0$collection3 = assets[0].collection) === null || _assets$0$collection3 === void 0 ? void 0 : _assets$0$collection3.name} `) !== null && _ref2 !== void 0 ? _ref2 : ''}${assets[0].name} for ${getMinListingPrice((_assets$0$newListings = assets[0].newListings) !== null && _assets$0$newListings !== void 0 ? _assets$0$newListings : [])} ETH on ${(_assets$0$marketplace = assets[0].marketplaces) === null || _assets$0$marketplace === void 0 ? void 0 : _assets$0$marketplace.map(market => market.name).join(', ')}. Buy it on @Uniswap at https://app.uniswap.org/#${getAssetHref(assets[0])}` : `I just listed ${assets.length} items on @Uniswap at https://app.uniswap.org/#/nfts/profile\\n\\nCollections: ${mapAssetsToCollections(assets).map(_ref3 => {\n    let {\n      collection,\n      items\n    } = _ref3;\n    return `${collection} ${items.map(item => item).join(', ')}`;\n  }).join(', ')} \\n\\nMarketplaces: ${(_assets$0$marketplace2 = assets[0].marketplaces) === null || _assets$0$marketplace2 === void 0 ? void 0 : _assets$0$marketplace2.map(market => market.name).join(', ')}`;\n  return `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweetText)}`;\n};","map":{"version":3,"names":["getRarityStatus","rarityStatusCache","id","assets","has","get","hasRarity","Array","from","reduce","reducer","asset","rarity","set","getAssetHref","origin","address","undefined","asset_contract","tokenId","getMarketplaceIcon","marketplace","toLowerCase","generateTweetForAsset","name","encodeURIComponent","collectionName","generateTweetForPurchase","txHashUrl","multipleCollections","length","some","tweetText","getMinListingPrice","listings","Math","min","map","listing","price","mapAssetsToCollections","collections","collection","twitterUrl","uniqueCollections","Set","items","filter","generateTweetForList","newListings","marketplaces","market","join","item"],"sources":["/home/diep/freelance/interface/src/nft/utils/asset.ts"],"sourcesContent":["import { DetailsOrigin, GenieAsset, Listing, UpdatedGenieAsset, WalletAsset } from 'nft/types'\n\nexport function getRarityStatus(\n  rarityStatusCache: Map<string, boolean>,\n  id: string,\n  assets?: (GenieAsset | undefined)[]\n) {\n  if (rarityStatusCache.has(id)) {\n    return rarityStatusCache.get(id)\n  }\n  const hasRarity = assets && Array.from(assets).reduce((reducer, asset) => !!(reducer || asset?.rarity), false)\n\n  if (hasRarity) {\n    rarityStatusCache.set(id, hasRarity)\n  }\n\n  return hasRarity\n}\n\nexport const getAssetHref = (asset: GenieAsset | WalletAsset, origin?: DetailsOrigin) => {\n  const address =\n    (asset as GenieAsset).address !== undefined\n      ? (asset as GenieAsset).address\n      : (asset as WalletAsset).asset_contract.address\n  return `/nfts/asset/${address}/${asset.tokenId}${origin ? `?origin=${origin}` : ''}`\n}\n\nexport const getMarketplaceIcon = (marketplace: string) => {\n  return `/nft/svgs/marketplaces/${marketplace.toLowerCase()}.svg`\n}\n\nexport const generateTweetForAsset = (asset: GenieAsset): string => {\n  return `https://twitter.com/intent/tweet?text=Check%20out%20${\n    asset.name ? encodeURIComponent(asset.name) : `${asset.collectionName}%20%23${asset.tokenId}`\n  }%20(${asset.collectionName})%20https://app.uniswap.org/%23/nfts/asset/${asset.address}/${\n    asset.tokenId\n  }%20via%20@uniswap`\n}\n\nexport const generateTweetForPurchase = (assets: UpdatedGenieAsset[], txHashUrl: string): string => {\n  const multipleCollections = assets.length > 0 && assets.some((asset) => asset.address !== assets[0].address)\n  const tweetText = `I just purchased ${\n    multipleCollections ? `${assets.length} NFTs` : `${assets.length} ${assets[0].collectionName ?? 'NFT'}`\n  } with @Uniswap ðŸ¦„\\n\\nhttps://app.uniswap.org/#/nfts/collection/0x60bb1e2aa1c9acafb4d34f71585d7e959f387769\\n${txHashUrl}`\n  return `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweetText)}`\n}\n\nfunction getMinListingPrice(listings: Listing[]): number {\n  return Math.min(...listings.map((listing) => listing.price ?? 0)) ?? 0\n}\n\nfunction mapAssetsToCollections(assets: WalletAsset[]): { collection: string; items: string[] }[] {\n  const collections = assets.map((asset) => asset.collection?.twitterUrl ?? asset.collection?.name ?? '')\n  const uniqueCollections = [...new Set(collections)]\n  return uniqueCollections.map((collection) => {\n    return {\n      collection,\n      items: assets\n        .filter((asset) => asset.collection?.twitterUrl === collection || asset.collection?.name === collection)\n        .map((asset) => asset.name ?? ''),\n    }\n  })\n}\n\nexport const generateTweetForList = (assets: WalletAsset[]): string => {\n  const tweetText =\n    assets.length == 1\n      ? `I just listed ${\n          assets[0].collection?.twitterUrl\n            ? `${assets[0].collection?.twitterUrl} `\n            : `${assets[0].collection?.name} ` ?? ''\n        }${assets[0].name} for ${getMinListingPrice(assets[0].newListings ?? [])} ETH on ${assets[0].marketplaces\n          ?.map((market) => market.name)\n          .join(', ')}. Buy it on @Uniswap at https://app.uniswap.org/#${getAssetHref(assets[0])}`\n      : `I just listed ${\n          assets.length\n        } items on @Uniswap at https://app.uniswap.org/#/nfts/profile\\n\\nCollections: ${mapAssetsToCollections(assets)\n          .map(({ collection, items }) => `${collection} ${items.map((item) => item).join(', ')}`)\n          .join(', ')} \\n\\nMarketplaces: ${assets[0].marketplaces?.map((market) => market.name).join(', ')}`\n  return `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweetText)}`\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}