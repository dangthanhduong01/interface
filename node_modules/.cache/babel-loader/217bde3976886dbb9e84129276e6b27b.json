{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar BootstrapValidator = /** @class */function () {\n  function BootstrapValidator() {}\n  BootstrapValidator.isValid = function (user, values) {\n    try {\n      var evaluatedKeys = values['evaluated_keys'];\n      if (!evaluatedKeys || typeof evaluatedKeys !== 'object') {\n        return true;\n      }\n      var keys = this.copyObject(evaluatedKeys !== null && evaluatedKeys !== void 0 ? evaluatedKeys : {});\n      var customIDs = this.copyObject(__assign({}, user === null || user === void 0 ? void 0 : user.customIDs));\n      for (var _i = 0, _a = Object.entries(keys); _i < _a.length; _i++) {\n        var _b = _a[_i],\n          key = _b[0],\n          value = _b[1];\n        switch (key) {\n          case 'userID':\n            if (value !== (user === null || user === void 0 ? void 0 : user.userID)) {\n              return false;\n            }\n            break;\n          case 'customIDs':\n            if (typeof value !== 'object' || typeof customIDs !== 'object') {\n              return false;\n            }\n            if ((value === null || value === void 0 ? void 0 : value['stableID']) || (customIDs === null || customIDs === void 0 ? void 0 : customIDs['stableID'])) {\n              var a = 1;\n            }\n            // StableID may be present, but should not be compared\n            value === null || value === void 0 ? true : delete value['stableID'];\n            customIDs === null || customIDs === void 0 ? true : delete customIDs['stableID'];\n            var actualKeys = Object.keys(value);\n            var expectedKeys = Object.keys(customIDs);\n            if (actualKeys.length !== expectedKeys.length) {\n              return false;\n            }\n            for (var _c = 0, _d = Object.entries(value); _c < _d.length; _c++) {\n              var _e = _d[_c],\n                customID = _e[0],\n                customIDValue = _e[1];\n              if (customIDs[customID] !== customIDValue) {\n                return false;\n              }\n            }\n            break;\n        }\n      }\n    } catch (error) {\n      // This is best-effort. If we fail, return true.\n    }\n    return true;\n  };\n  BootstrapValidator.copyObject = function (obj) {\n    return JSON.parse(JSON.stringify(obj));\n  };\n  return BootstrapValidator;\n}();\nexports.default = BootstrapValidator;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","BootstrapValidator","isValid","user","values","evaluatedKeys","keys","copyObject","customIDs","_i","_a","entries","_b","key","userID","a","actualKeys","expectedKeys","_c","_d","_e","customID","customIDValue","error","obj","JSON","parse","stringify","default"],"sources":["/home/diep/freelance/interface/node_modules/statsig-js/dist/utils/BootstrapValidator.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BootstrapValidator = /** @class */ (function () {\n    function BootstrapValidator() {\n    }\n    BootstrapValidator.isValid = function (user, values) {\n        try {\n            var evaluatedKeys = values['evaluated_keys'];\n            if (!evaluatedKeys || typeof evaluatedKeys !== 'object') {\n                return true;\n            }\n            var keys = this.copyObject(evaluatedKeys !== null && evaluatedKeys !== void 0 ? evaluatedKeys : {});\n            var customIDs = this.copyObject(__assign({}, user === null || user === void 0 ? void 0 : user.customIDs));\n            for (var _i = 0, _a = Object.entries(keys); _i < _a.length; _i++) {\n                var _b = _a[_i], key = _b[0], value = _b[1];\n                switch (key) {\n                    case 'userID':\n                        if (value !== (user === null || user === void 0 ? void 0 : user.userID)) {\n                            return false;\n                        }\n                        break;\n                    case 'customIDs':\n                        if (typeof value !== 'object' || typeof customIDs !== 'object') {\n                            return false;\n                        }\n                        if ((value === null || value === void 0 ? void 0 : value['stableID']) || (customIDs === null || customIDs === void 0 ? void 0 : customIDs['stableID'])) {\n                            var a = 1;\n                        }\n                        // StableID may be present, but should not be compared\n                        value === null || value === void 0 ? true : delete value['stableID'];\n                        customIDs === null || customIDs === void 0 ? true : delete customIDs['stableID'];\n                        var actualKeys = Object.keys(value);\n                        var expectedKeys = Object.keys(customIDs);\n                        if (actualKeys.length !== expectedKeys.length) {\n                            return false;\n                        }\n                        for (var _c = 0, _d = Object.entries(value); _c < _d.length; _c++) {\n                            var _e = _d[_c], customID = _e[0], customIDValue = _e[1];\n                            if (customIDs[customID] !== customIDValue) {\n                                return false;\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n        catch (error) {\n            // This is best-effort. If we fail, return true.\n        }\n        return true;\n    };\n    BootstrapValidator.copyObject = function (obj) {\n        return JSON.parse(JSON.stringify(obj));\n    };\n    return BootstrapValidator;\n}());\nexports.default = BootstrapValidator;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}