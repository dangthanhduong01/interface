{"ast":null,"code":"var _s = $RefreshSig$();\nimport { nanoid } from '@reduxjs/toolkit';\nimport { SupportedChainId } from 'constants/chains';\nimport { RPC_PROVIDERS } from 'constants/providers';\nimport getTokenList from 'lib/hooks/useTokenList/fetchTokenList';\nimport resolveENSContentHash from 'lib/utils/resolveENSContentHash';\nimport { useCallback } from 'react';\nimport { useAppDispatch } from 'state/hooks';\nimport { fetchTokenList } from '../state/lists/actions';\nexport function useFetchListCallback() {\n  _s();\n  const dispatch = useAppDispatch();\n  return useCallback(async (listUrl, skipValidation) => {\n    const requestId = nanoid();\n    dispatch(fetchTokenList.pending({\n      requestId,\n      url: listUrl\n    }));\n    return getTokenList(listUrl, ensName => resolveENSContentHash(ensName, RPC_PROVIDERS[SupportedChainId.MAINNET]), skipValidation).then(tokenList => {\n      dispatch(fetchTokenList.fulfilled({\n        url: listUrl,\n        tokenList,\n        requestId\n      }));\n      return tokenList;\n    }).catch(error => {\n      console.debug(`Failed to get list at url ${listUrl}`, error);\n      dispatch(fetchTokenList.rejected({\n        url: listUrl,\n        requestId,\n        errorMessage: error.message\n      }));\n      throw error;\n    });\n  }, [dispatch]);\n}\n_s(useFetchListCallback, \"OqBVLt6aN3sywE9xSMcloJ9SYsA=\", false, function () {\n  return [useAppDispatch];\n});","map":{"version":3,"names":["nanoid","SupportedChainId","RPC_PROVIDERS","getTokenList","resolveENSContentHash","useCallback","useAppDispatch","fetchTokenList","useFetchListCallback","dispatch","listUrl","skipValidation","requestId","pending","url","ensName","MAINNET","then","tokenList","fulfilled","catch","error","console","debug","rejected","errorMessage","message"],"sources":["/home/diep/freelance/interface/src/hooks/useFetchListCallback.ts"],"sourcesContent":["import { nanoid } from '@reduxjs/toolkit'\nimport { TokenList } from '@uniswap/token-lists'\nimport { SupportedChainId } from 'constants/chains'\nimport { RPC_PROVIDERS } from 'constants/providers'\nimport getTokenList from 'lib/hooks/useTokenList/fetchTokenList'\nimport resolveENSContentHash from 'lib/utils/resolveENSContentHash'\nimport { useCallback } from 'react'\nimport { useAppDispatch } from 'state/hooks'\n\nimport { fetchTokenList } from '../state/lists/actions'\n\nexport function useFetchListCallback(): (listUrl: string, skipValidation?: boolean) => Promise<TokenList> {\n  const dispatch = useAppDispatch()\n\n  return useCallback(\n    async (listUrl: string, skipValidation?: boolean) => {\n      const requestId = nanoid()\n      dispatch(fetchTokenList.pending({ requestId, url: listUrl }))\n      return getTokenList(\n        listUrl,\n        (ensName: string) => resolveENSContentHash(ensName, RPC_PROVIDERS[SupportedChainId.MAINNET]),\n        skipValidation\n      )\n        .then((tokenList) => {\n          dispatch(fetchTokenList.fulfilled({ url: listUrl, tokenList, requestId }))\n          return tokenList\n        })\n        .catch((error) => {\n          console.debug(`Failed to get list at url ${listUrl}`, error)\n          dispatch(fetchTokenList.rejected({ url: listUrl, requestId, errorMessage: error.message }))\n          throw error\n        })\n    },\n    [dispatch]\n  )\n}\n"],"mappings":";AAAA,SAASA,MAAM,QAAQ,kBAAkB;AAEzC,SAASC,gBAAgB,QAAQ,kBAAkB;AACnD,SAASC,aAAa,QAAQ,qBAAqB;AACnD,OAAOC,YAAY,MAAM,uCAAuC;AAChE,OAAOC,qBAAqB,MAAM,iCAAiC;AACnE,SAASC,WAAW,QAAQ,OAAO;AACnC,SAASC,cAAc,QAAQ,aAAa;AAE5C,SAASC,cAAc,QAAQ,wBAAwB;AAEvD,OAAO,SAASC,oBAAoB,GAAsE;EAAA;EACxG,MAAMC,QAAQ,GAAGH,cAAc,EAAE;EAEjC,OAAOD,WAAW,CAChB,OAAOK,OAAe,EAAEC,cAAwB,KAAK;IACnD,MAAMC,SAAS,GAAGZ,MAAM,EAAE;IAC1BS,QAAQ,CAACF,cAAc,CAACM,OAAO,CAAC;MAAED,SAAS;MAAEE,GAAG,EAAEJ;IAAQ,CAAC,CAAC,CAAC;IAC7D,OAAOP,YAAY,CACjBO,OAAO,EACNK,OAAe,IAAKX,qBAAqB,CAACW,OAAO,EAAEb,aAAa,CAACD,gBAAgB,CAACe,OAAO,CAAC,CAAC,EAC5FL,cAAc,CACf,CACEM,IAAI,CAAEC,SAAS,IAAK;MACnBT,QAAQ,CAACF,cAAc,CAACY,SAAS,CAAC;QAAEL,GAAG,EAAEJ,OAAO;QAAEQ,SAAS;QAAEN;MAAU,CAAC,CAAC,CAAC;MAC1E,OAAOM,SAAS;IAClB,CAAC,CAAC,CACDE,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACC,KAAK,CAAE,6BAA4Bb,OAAQ,EAAC,EAAEW,KAAK,CAAC;MAC5DZ,QAAQ,CAACF,cAAc,CAACiB,QAAQ,CAAC;QAAEV,GAAG,EAAEJ,OAAO;QAAEE,SAAS;QAAEa,YAAY,EAAEJ,KAAK,CAACK;MAAQ,CAAC,CAAC,CAAC;MAC3F,MAAML,KAAK;IACb,CAAC,CAAC;EACN,CAAC,EACD,CAACZ,QAAQ,CAAC,CACX;AACH;AAAC,GAxBeD,oBAAoB;EAAA,QACjBF,cAAc;AAAA"},"metadata":{},"sourceType":"module"}